<html>
<head>
<title>GenerateSwath</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<?php
	$rootPath = "../..";
	include("$rootPath/includes/header.inc");
?>
</head>
<body>
<div class=page>

<h2>GenerateSwath:</h2>
<p>Path: Link/Coverage</p>
<pre>
% Generate dynamical plots of antenna patterns.
 This function will animate ground patterns on a 2D and 3D map of any planet. 
 Each antenna has a boresight rotation matrix that aligns the boresight then
 a list of azimuth and elevation points defining the boundary.
 Each list has a dB level associated with it and there may be multiple
 lists per antenna. az must range from 0 to 2*pi.

 Each antenna beam is a different color with different shades per dB level.

 The output is a set of patterns per antenna. Each pattern is the latitude
 and longitude of the beam edge. Each lat and lon entry is one row per time
 step.

 The d.antenna(k).b matrix rotates a vector from the z-axis to the desired
 direction in the body frame. Azimuth is from the +x axis and elevation 
 from the xy-plane. x, y, z are defined in the body frame.

--------------------------------------------------------------------------
   Form:
   GenerateSwath;  % demo
   swath = GenerateSwath( d, r, q, t )
--------------------------------------------------------------------------

   ------
   Inputs
   ------
   d	(.)    Parameters
            	.planet (1,:) Name of planet
           	.antenna (:)
                       	.b       (3,3) Boresight rotation matrix 
                       	.pattern (:)   Pattern per dB level
                                        .dB (1,1) Decibel level
                                        .az (1,:) Azimuth (rad)
                                        .co (1,:) Coelevation (rad)
       
   r	(3,:)  Planet fixed position vector (km)
   q	(4,:)  Planet fixed to body quaternion [q_s;q_x;q_y;q_z]
   t	(1,:)  Time (sec)

   -------
   Outputs
   -------
   swath  (:) One element per antenna
           	.lat     (n,1) Latitude of beam center (rad)
            	.lon     (n,1) Longitude of beam center (rad)
               .pattern (:) One entry per pattern 
               .lat     (n,:) Latitude (rad)
               .lon     (n,:) Longitude (rad)
               .dB      (n,1) dB level
                                

--------------------------------------------------------------------------
</pre>

<h2>Children:</h2>
<pre>
<a href="../AerospaceUtilsHeaders/AzCoElToUHeader.html">AerospaceUtils: Coord/AzCoElToU</a>
<a href="../AerospaceUtilsHeaders/QLVLHHeader.html">AerospaceUtils: Coord/QLVLH</a>
<a href="../AerospaceUtilsHeaders/R2LatLonHeader.html">AerospaceUtils: Coord/R2LatLon</a>
<a href="../OrbitHeaders/PeriodHeader.html">Orbit: OrbitMechanics/Period</a>
<a href="../OrbitHeaders/RVFromKeplerHeader.html">Orbit: OrbitSim/RVFromKepler</a>
<a href="../CommonHeaders/ConstantHeader.html">Common: Database/Constant</a>
<a href="../CommonHeaders/MapHeader.html">Common: Graphics/Map</a>
<a href="../CommonHeaders/NewFigHeader.html">Common: Graphics/NewFig</a>
<a href="../CommonHeaders/Plot2DHeader.html">Common: Graphics/Plot2D</a>
<a href="../CommonHeaders/TimeLablHeader.html">Common: Graphics/TimeLabl</a>
<a href="../CommonHeaders/XLabelSHeader.html">Common: Graphics/XLabelS</a>
<a href="../CommonHeaders/YLabelSHeader.html">Common: Graphics/YLabelS</a>
<a href="../CommonHeaders/QTFormHeader.html">Common: Quaternion/QTForm</a>
<a href="../CommonHeaders/Eul2MatHeader.html">Common: Transform/Eul2Mat</a>
<a href="../MathHeaders/IntersectLineAndEllipsoidHeader.html">Math: Geometry/IntersectLineAndEllipsoid</a>
</pre>
<hr><p> <a href="../LinkFunctions.html">Back</a> to the Link Module page</p></div>
<?php include("$rootPath/includes/footer.inc"); ?>
</html>
