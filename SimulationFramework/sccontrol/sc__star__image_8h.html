<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Spacecraft Control Framework: sc_star_image.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Spacecraft Control Framework<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Spacecraft Control Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sc_star_image.h File Reference<div class="ingroups"><a class="el" href="group__Optics.html">Optics</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Star image processing functions.  
<a href="#details">More...</a></p>

<p><a href="sc__star__image_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgaussian__fit__s.html">gaussian_fit_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for Gaussian fit.  <a href="structgaussian__fit__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgaussian__xyfit__s.html">gaussian_xyfit_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for X/Y Gaussian fit.  <a href="structgaussian__xyfit__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstar__blob.html">star_blob</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blob in a star image.  <a href="structstar__blob.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af66fe9995a48446ac5f182021f8763ab"><td class="memItemLeft" align="right" valign="top"><a id="af66fe9995a48446ac5f182021f8763ab" name="af66fe9995a48446ac5f182021f8763ab"></a>
typedef struct <a class="el" href="structgaussian__fit__s.html">gaussian_fit_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>gaussian_fit_t</b></td></tr>
<tr class="memdesc:af66fe9995a48446ac5f182021f8763ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for Gaussian fit. <br /></td></tr>
<tr class="separator:af66fe9995a48446ac5f182021f8763ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac42ead05e16a9b9296f53bb4818aa39"><td class="memItemLeft" align="right" valign="top"><a id="aac42ead05e16a9b9296f53bb4818aa39" name="aac42ead05e16a9b9296f53bb4818aa39"></a>
typedef struct <a class="el" href="structgaussian__xyfit__s.html">gaussian_xyfit_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>gaussian_xyfit_t</b></td></tr>
<tr class="memdesc:aac42ead05e16a9b9296f53bb4818aa39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for X/Y Gaussian fit. <br /></td></tr>
<tr class="separator:aac42ead05e16a9b9296f53bb4818aa39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac575f565c50433a30bd484e30b972450"><td class="memItemLeft" align="right" valign="top">ml_matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#ac575f565c50433a30bd484e30b972450">vm_to_intensity</a> (ml_matrix v)</td></tr>
<tr class="memdesc:ac575f565c50433a30bd484e30b972450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts visual magnitude to intensity.  <a href="sc__star__image_8h.html#ac575f565c50433a30bd484e30b972450">More...</a><br /></td></tr>
<tr class="separator:ac575f565c50433a30bd484e30b972450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f422900a3ae3701d479f3fc1fee156f"><td class="memItemLeft" align="right" valign="top">ml_matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#a8f422900a3ae3701d479f3fc1fee156f">intensity_to_vm</a> (ml_matrix i)</td></tr>
<tr class="memdesc:a8f422900a3ae3701d479f3fc1fee156f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts intensity to visual magnitude.  <a href="sc__star__image_8h.html#a8f422900a3ae3701d479f3fc1fee156f">More...</a><br /></td></tr>
<tr class="separator:a8f422900a3ae3701d479f3fc1fee156f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a520d40ce5e902979cde6f6d0e1a43b7c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#a520d40ce5e902979cde6f6d0e1a43b7c">vm_to_intensity</a> (double v)</td></tr>
<tr class="memdesc:a520d40ce5e902979cde6f6d0e1a43b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts visual magnitude to intensity.  <a href="sc__star__image_8h.html#a520d40ce5e902979cde6f6d0e1a43b7c">More...</a><br /></td></tr>
<tr class="separator:a520d40ce5e902979cde6f6d0e1a43b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6647eb2b4ddca114ddfacfe1702efdb0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#a6647eb2b4ddca114ddfacfe1702efdb0">intensity_to_vm</a> (double i)</td></tr>
<tr class="memdesc:a6647eb2b4ddca114ddfacfe1702efdb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts intensity to visual magnitude.  <a href="sc__star__image_8h.html#a6647eb2b4ddca114ddfacfe1702efdb0">More...</a><br /></td></tr>
<tr class="separator:a6647eb2b4ddca114ddfacfe1702efdb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a31f1adb86ed6623e8fb33edefd206"><td class="memItemLeft" align="right" valign="top"><a id="ac0a31f1adb86ed6623e8fb33edefd206" name="ac0a31f1adb86ed6623e8fb33edefd206"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>index_to_sub</b> (int r, int c, int k, int *kR, int *kC)</td></tr>
<tr class="memdesc:ac0a31f1adb86ed6623e8fb33edefd206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Matrix index to subscripts. <br /></td></tr>
<tr class="separator:ac0a31f1adb86ed6623e8fb33edefd206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1eecac722802e337429bf8fc6730dd"><td class="memItemLeft" align="right" valign="top">ml_matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#a7b1eecac722802e337429bf8fc6730dd">centroid_COM</a> (const ml_matrix &amp;p, double threshold, int n)</td></tr>
<tr class="memdesc:a7b1eecac722802e337429bf8fc6730dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find centroids in a pixelmap using the center of mass method.  <a href="sc__star__image_8h.html#a7b1eecac722802e337429bf8fc6730dd">More...</a><br /></td></tr>
<tr class="separator:a7b1eecac722802e337429bf8fc6730dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13f812773df3609dc329d47292ae56b"><td class="memItemLeft" align="right" valign="top">ml_matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#ae13f812773df3609dc329d47292ae56b">coarse_centroid_COM</a> (const ml_matrix &amp;p, double threshold=0.0, int n=5)</td></tr>
<tr class="memdesc:ae13f812773df3609dc329d47292ae56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find centroids in a pixelmap using blobify &amp; center of mass method.  <a href="sc__star__image_8h.html#ae13f812773df3609dc329d47292ae56b">More...</a><br /></td></tr>
<tr class="separator:ae13f812773df3609dc329d47292ae56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88508ec0a7b839ba2f1b16a281deb8fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#a88508ec0a7b839ba2f1b16a281deb8fd">edge_correction</a> (int k0, int kC, int m)</td></tr>
<tr class="memdesc:a88508ec0a7b839ba2f1b16a281deb8fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edge correction.  <a href="sc__star__image_8h.html#a88508ec0a7b839ba2f1b16a281deb8fd">More...</a><br /></td></tr>
<tr class="separator:a88508ec0a7b839ba2f1b16a281deb8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdbae748549ae24f0971774fb4d39dc4"><td class="memItemLeft" align="right" valign="top">ml_matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#afdbae748549ae24f0971774fb4d39dc4">zodiacal_light</a> (const ml_matrix &amp;r, const ml_matrix &amp;beta)</td></tr>
<tr class="memdesc:afdbae748549ae24f0971774fb4d39dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zodiacal light.  <a href="sc__star__image_8h.html#afdbae748549ae24f0971774fb4d39dc4">More...</a><br /></td></tr>
<tr class="separator:afdbae748549ae24f0971774fb4d39dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a60b1194e6c043dbcd810c66f8de760"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#a2a60b1194e6c043dbcd810c66f8de760">zodiacal_light</a> (double r)</td></tr>
<tr class="memdesc:a2a60b1194e6c043dbcd810c66f8de760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zodiacal light.  <a href="sc__star__image_8h.html#a2a60b1194e6c043dbcd810c66f8de760">More...</a><br /></td></tr>
<tr class="separator:a2a60b1194e6c043dbcd810c66f8de760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63feb634d9ab5b1a0fa241eca8dc52d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#aa63feb634d9ab5b1a0fa241eca8dc52d">apply_threshold</a> (ml_matrix &amp;x, double b=-1.0, double T=0.0)</td></tr>
<tr class="memdesc:aa63feb634d9ab5b1a0fa241eca8dc52d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Star image noise processing function.  <a href="sc__star__image_8h.html#aa63feb634d9ab5b1a0fa241eca8dc52d">More...</a><br /></td></tr>
<tr class="separator:aa63feb634d9ab5b1a0fa241eca8dc52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5385ece891c68d9a9b989f02f237a2"><td class="memItemLeft" align="right" valign="top">ml_matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#aaa5385ece891c68d9a9b989f02f237a2">fit_gaussian</a> (const ml_matrix &amp;pixels, const ml_matrix &amp;r0, <a class="el" href="sc__star__image_8h.html#aac42ead05e16a9b9296f53bb4818aa39">gaussian_xyfit_t</a> &amp;data)</td></tr>
<tr class="memdesc:aaa5385ece891c68d9a9b989f02f237a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fit symmetric Gaussians to a star image.  <a href="sc__star__image_8h.html#aaa5385ece891c68d9a9b989f02f237a2">More...</a><br /></td></tr>
<tr class="separator:aaa5385ece891c68d9a9b989f02f237a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d814140afcc715991c8c2834b5e732"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="structstar__blob.html">star_blob</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sc__star__image_8h.html#a63d814140afcc715991c8c2834b5e732">Blobify</a> (const ml_matrix &amp;pixels, int minPix=4)</td></tr>
<tr class="memdesc:a63d814140afcc715991c8c2834b5e732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blobify a pixelmap.  <a href="sc__star__image_8h.html#a63d814140afcc715991c8c2834b5e732">More...</a><br /></td></tr>
<tr class="separator:a63d814140afcc715991c8c2834b5e732"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Star image processing functions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac575f565c50433a30bd484e30b972450" name="ac575f565c50433a30bd484e30b972450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac575f565c50433a30bd484e30b972450">&#9670;&nbsp;</a></span>vm_to_intensity() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml_matrix vm_to_intensity </td>
          <td>(</td>
          <td class="paramtype">ml_matrix&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts visual magnitude to intensity. </p>
<p >Converts visual magnitude to intensity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>Visual magnitude </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Intensity </dd></dl>

<p class="reference">Referenced by <a class="el" href="classstar__meas.html#a4ba5970cf0243e4d2c0d925be053c24b">star_meas::SetStarData()</a>, and <a class="el" href="sc__star__image_8h.html#afdbae748549ae24f0971774fb4d39dc4">zodiacal_light()</a>.</p>

</div>
</div>
<a id="a8f422900a3ae3701d479f3fc1fee156f" name="a8f422900a3ae3701d479f3fc1fee156f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f422900a3ae3701d479f3fc1fee156f">&#9670;&nbsp;</a></span>intensity_to_vm() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml_matrix intensity_to_vm </td>
          <td>(</td>
          <td class="paramtype">ml_matrix&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts intensity to visual magnitude. </p>
<p >Converts intensity to visual magnitude.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Intensity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Visual magnitude </dd></dl>

</div>
</div>
<a id="a520d40ce5e902979cde6f6d0e1a43b7c" name="a520d40ce5e902979cde6f6d0e1a43b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520d40ce5e902979cde6f6d0e1a43b7c">&#9670;&nbsp;</a></span>vm_to_intensity() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double vm_to_intensity </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts visual magnitude to intensity. </p>
<p >Converts visual magnitude to intensity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>Visual magnitude </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Intensity </dd></dl>

</div>
</div>
<a id="a6647eb2b4ddca114ddfacfe1702efdb0" name="a6647eb2b4ddca114ddfacfe1702efdb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6647eb2b4ddca114ddfacfe1702efdb0">&#9670;&nbsp;</a></span>intensity_to_vm() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double intensity_to_vm </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts intensity to visual magnitude. </p>
<p >Converts intensity to visual magnitude.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Intensity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Visual magnitude </dd></dl>

</div>
</div>
<a id="a7b1eecac722802e337429bf8fc6730dd" name="a7b1eecac722802e337429bf8fc6730dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1eecac722802e337429bf8fc6730dd">&#9670;&nbsp;</a></span>centroid_COM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml_matrix centroid_COM </td>
          <td>(</td>
          <td class="paramtype">const ml_matrix &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find centroids in a pixelmap using the center of mass method. </p>
<p >Find centroids in a pixelmap using the center of mass method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pixel values (:,:) </td></tr>
    <tr><td class="paramname">threshold</td><td>threshold for including in the center of mass </td></tr>
    <tr><td class="paramname">n</td><td>size of the region of interest </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>locations of centroids in pixels (2,n) </dd></dl>

<p class="reference">References <a class="el" href="sc__star__image_8h.html#a88508ec0a7b839ba2f1b16a281deb8fd">edge_correction()</a>, and <a class="el" href="sc__star__image_8h.html#ac0a31f1adb86ed6623e8fb33edefd206">index_to_sub()</a>.</p>

</div>
</div>
<a id="ae13f812773df3609dc329d47292ae56b" name="ae13f812773df3609dc329d47292ae56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae13f812773df3609dc329d47292ae56b">&#9670;&nbsp;</a></span>coarse_centroid_COM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml_matrix coarse_centroid_COM </td>
          <td>(</td>
          <td class="paramtype">const ml_matrix &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find centroids in a pixelmap using blobify &amp; center of mass method. </p>
<p >Find centroids in a pixelmap using blobify &amp; center of mass method.</p>
<p >The pixelmap is first thresholded to remove pixels below the background noise. The remaining pixels are then grouped in "blobs". Centroids are computed for the blobs using a center of mass method.</p>
<p >TODO parameter for minimum number of pixels in blobs TODO parameter or better way for calculating noise floor b</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>pixel values (:,:) </td></tr>
    <tr><td class="paramname">threshold</td><td>threshold for including in the center of mass </td></tr>
    <tr><td class="paramname">n</td><td>size of the region of interest </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>locations of centroids in pixels (2,n) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="sc__star__image_8h.html#aa63feb634d9ab5b1a0fa241eca8dc52d" title="Star image noise processing function.">apply_threshold()</a>, <a class="el" href="sc__star__image_8h.html#a63d814140afcc715991c8c2834b5e732" title="Blobify a pixelmap.">Blobify()</a> </dd></dl>

<p class="reference">References <a class="el" href="sc__star__image_8h.html#aa63feb634d9ab5b1a0fa241eca8dc52d">apply_threshold()</a>, and <a class="el" href="sc__star__image_8h.html#a63d814140afcc715991c8c2834b5e732">Blobify()</a>.</p>

</div>
</div>
<a id="a88508ec0a7b839ba2f1b16a281deb8fd" name="a88508ec0a7b839ba2f1b16a281deb8fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88508ec0a7b839ba2f1b16a281deb8fd">&#9670;&nbsp;</a></span>edge_correction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int edge_correction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>kC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Edge correction. </p>
<p >Edge correction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k0</td><td></td></tr>
    <tr><td class="paramname">kC</td><td></td></tr>
    <tr><td class="paramname">m</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p class="reference">Referenced by <a class="el" href="sc__star__image_8h.html#a7b1eecac722802e337429bf8fc6730dd">centroid_COM()</a>.</p>

</div>
</div>
<a id="afdbae748549ae24f0971774fb4d39dc4" name="afdbae748549ae24f0971774fb4d39dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdbae748549ae24f0971774fb4d39dc4">&#9670;&nbsp;</a></span>zodiacal_light() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml_matrix zodiacal_light </td>
          <td>(</td>
          <td class="paramtype">const ml_matrix &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ml_matrix &amp;&#160;</td>
          <td class="paramname"><em>beta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zodiacal light. </p>
<p >Used by imager functions. This is background noise.</p>
<p >Reference: R. Meissner, "Brightness Measurements of Stars and
           the Night-Sky with a Silicon-Photomultiplier-Telescope" Physikalischen Institut A, 9/2012.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>Distance from the sun (AU) </td></tr>
    <tr><td class="paramname">beta</td><td>Ecliptic latitude (rad) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Intensity (W/m^2/rad^2) </dd></dl>

<p class="reference">References <a class="el" href="sc__constants_8h.html#a952eac791b596a61bba0a133a3bb439f">PI</a>, and <a class="el" href="sc__star__image_8h.html#ac575f565c50433a30bd484e30b972450">vm_to_intensity()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classimager__model.html#a41bef4e129e8f7d71c6db30fff56164d">imager_model::update()</a>.</p>

</div>
</div>
<a id="a2a60b1194e6c043dbcd810c66f8de760" name="a2a60b1194e6c043dbcd810c66f8de760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a60b1194e6c043dbcd810c66f8de760">&#9670;&nbsp;</a></span>zodiacal_light() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double zodiacal_light </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zodiacal light. </p>
<p >Zodiacal light.</p>
<p >Uses the worst-case beta.</p>
<p >Reference: R. Meissner, "Brightness Measurements of Stars and
the Night-Sky with a Silicon-Photomultiplier-Telescope" Physikalischen Institut A, 9/2012.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>Distance from the sun (AU) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Intensity (W/m^2/rad^2) </dd></dl>

<p class="reference">References <a class="el" href="sc__constants_8h.html#a952eac791b596a61bba0a133a3bb439f">PI</a>, and <a class="el" href="sc__star__image_8h.html#ac575f565c50433a30bd484e30b972450">vm_to_intensity()</a>.</p>

</div>
</div>
<a id="aa63feb634d9ab5b1a0fa241eca8dc52d" name="aa63feb634d9ab5b1a0fa241eca8dc52d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa63feb634d9ab5b1a0fa241eca8dc52d">&#9670;&nbsp;</a></span>apply_threshold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void apply_threshold </td>
          <td>(</td>
          <td class="paramtype">ml_matrix &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>T</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Star image noise processing function. </p>
<p >Star image noise processing function.</p>
<p >Values in x below the threshold, T, will be set to zero. The sky background noise, b, will be subtracted from the remaining pixels.</p>
<p >p(p&lt;T) = 0 p = p - b;</p>
<p >If b is less than zero, the mean will be calculated. If T is less than or equal to zero, it will be approximated as b + 2.5*sigma.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pixelmap </td></tr>
    <tr><td class="paramname">b</td><td>Sky background noise value, to be subtracted from pixels </td></tr>
    <tr><td class="paramname">T</td><td>Threshold value </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="sc__star__image_8h.html#ae13f812773df3609dc329d47292ae56b">coarse_centroid_COM()</a>.</p>

</div>
</div>
<a id="aaa5385ece891c68d9a9b989f02f237a2" name="aaa5385ece891c68d9a9b989f02f237a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5385ece891c68d9a9b989f02f237a2">&#9670;&nbsp;</a></span>fit_gaussian()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ml_matrix fit_gaussian </td>
          <td>(</td>
          <td class="paramtype">const ml_matrix &amp;&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ml_matrix &amp;&#160;</td>
          <td class="paramname"><em>r0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sc__star__image_8h.html#aac42ead05e16a9b9296f53bb4818aa39">gaussian_xyfit_t</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fit symmetric Gaussians to a star image. </p>
<p >Fit symmetric Gaussians to a star image.</p>
<p >This should be a subarray containing a single star. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixels</td><td>Pixelmap </td></tr>
    <tr><td class="paramname">r0</td><td>Initial guess </td></tr>
    <tr><td class="paramname">data</td><td>Algorithm data results </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Matrix with [x;y] center </dd></dl>

<p class="reference">References <a class="el" href="structgaussian__fit__s.html#a76c6de5e8abe6541d23032f75019ecfc">gaussian_fit_s::height</a>, <a class="el" href="structgaussian__xyfit__s.html#aa8c052b0f408b0df6fd288fe9ea063a9">gaussian_xyfit_s::height</a>, <a class="el" href="structgaussian__fit__s.html#af3ed5d35bfb01a7dcc2d2641c6840a1f">gaussian_fit_s::iter</a>, <a class="el" href="structgaussian__xyfit__s.html#ab81bff19318b4f246d83bf6aa0dda5c0">gaussian_xyfit_s::iter</a>, <a class="el" href="structgaussian__fit__s.html#a385da77204e6b27c4ab8389cb5952373">gaussian_fit_s::status</a>, <a class="el" href="structgaussian__xyfit__s.html#af0b5acb968ad0299c8c568c8a8bbcf92">gaussian_xyfit_s::status</a>, <a class="el" href="structgaussian__fit__s.html#a381b0e60e28cad1065bb281b6aecd1b9">gaussian_fit_s::std_dev</a>, and <a class="el" href="structgaussian__xyfit__s.html#a3461474e88ed09515a79fc350ebeefce">gaussian_xyfit_s::std_dev</a>.</p>

</div>
</div>
<a id="a63d814140afcc715991c8c2834b5e732" name="a63d814140afcc715991c8c2834b5e732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d814140afcc715991c8c2834b5e732">&#9670;&nbsp;</a></span>Blobify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="structstar__blob.html">star_blob</a> &gt; Blobify </td>
          <td>(</td>
          <td class="paramtype">const ml_matrix &amp;&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minPix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blobify a pixelmap. </p>
<p >Blobify a pixelmap.</p>
<p >A bounding box is stored along with the indices of the pixels in the blob. The pixelmap is assumed to be thresholded so that most of the pixels are zero and only those nonzero pixels will be grouped into blobs. Currently only single-pixel stars are removed. The blobs are sorted in descending order by total counts.</p>
<p >TODO: set a cap on number or percentage of nonzero pixels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixels</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of blobs </dd></dl>

<p class="reference">Referenced by <a class="el" href="sc__star__image_8h.html#ae13f812773df3609dc329d47292ae56b">coarse_centroid_COM()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 18 2022 13:58:43 for Spacecraft Control Framework by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
