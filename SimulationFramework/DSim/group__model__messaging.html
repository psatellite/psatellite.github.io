<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DSim: Model Messaging</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Model Messaging</h1>  </div>
</div>
<div class="contents">

<p><a class="el" href="classdsim__model.html" title="Superclass for all simulated objects.">dsim_model</a> member functions that provide inter-object messaging functionality  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classdsim__value.html">dsim_value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__messaging.html#ga4e9fc0a058ddd601bcbb44f957ae67d1">dsim_model::handle_message</a> (const std::string &amp;sender_path, const std::string &amp;message_name, const <a class="el" href="classdsim__value.html">dsim_value</a> &amp;argument)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden by subclasses to handle messages sent by other objects.  <a href="#ga4e9fc0a058ddd601bcbb44f957ae67d1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__messaging.html#ga2018010e9cf7ceafd344f604d30278bc">dsim_model::create_target</a> (const char *toarget_name, const char *target_description, bool multiple=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a target to be set in a setup file.  <a href="#ga2018010e9cf7ceafd344f604d30278bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__messaging.html#gad79ebc7770f5930b2baf3645101520ca">dsim_model::lookup_target</a> (const char *target_name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up the target that was set in a setup file.  <a href="#gad79ebc7770f5930b2baf3645101520ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__messaging.html#gaf1e28f397bec10dbedf1b03759d89836">dsim_model::set_target</a> (const char *target_name, const char *target_path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the a target's path.  <a href="#gaf1e28f397bec10dbedf1b03759d89836"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__messaging.html#gac21e0f3af6c4716425afa853e6d15fc3">dsim_model::target_destinations</a> (const std::string &amp;target_name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the vector of destinations for a multi-valued target.  <a href="#gac21e0f3af6c4716425afa853e6d15fc3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdsim__value.html">dsim_value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__messaging.html#gaddeb3deb502759848232738e922c9019">dsim_model::send_message</a> (const char *destination, const char *message_name, const <a class="el" href="classdsim__value.html">dsim_value</a> &amp;argument)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message to a destination object, and receive a value in return.  <a href="#gaddeb3deb502759848232738e922c9019"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classdsim__model.html" title="Superclass for all simulated objects.">dsim_model</a> member functions that provide inter-object messaging functionality </p>
<p>In addition to communicating via variable values and outlets (or direct variable lookup), objects can pass messages. Messages consist of a string representing the name and a <a class="el" href="classdsim__value.html" title="Represents the value of a variable or message.">dsim_value</a> argument; the object being messaged can then reply with a <a class="el" href="classdsim__value.html" title="Represents the value of a variable or message.">dsim_value</a> return value.</p>
<p>Messaging allows objects to request that other objects take some action (perform some calculation, modify their state in some way, etc) and can occur at any time. This allows them to be more versatile than simple variable setting and retrieving, though more work is necessary to take advantage of them.</p>
<p>Objects can define "targets", with the actual target object being specified in the setup file. This way the actual destination of messages from the object can be changed easily by setup file modification rather than relying on hard-coded paths. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga2018010e9cf7ceafd344f604d30278bc"></a><!-- doxytag: member="dsim_model::create_target" ref="ga2018010e9cf7ceafd344f604d30278bc" args="(const char *toarget_name, const char *target_description, bool multiple=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dsim_model::create_target </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>target_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>target_description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"> <em>multiple</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a target to be set in a setup file. </p>
<p>Creates a target for this object. Targets are named references to other objects in the simulation; an object typically creates a target during the initialize_data() call and then subsequently looks up the provided target destination via lookup_target() to find variables at that target or to send messages to the target. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">target_name</td><td>The name to give the target. If two create_target calls are made for the same target name, the second call will overwrite the first. </td></tr>
    <tr><td class="paramname">target_description</td><td>A human-readable description of this target, used to guide a user during simulation setup. </td></tr>
    <tr><td class="paramname">multiple</td><td>If true, this target will allow multiple destinations to be set for it. Retrieve the entire set of destinations later using target_destinations(). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4e9fc0a058ddd601bcbb44f957ae67d1"></a><!-- doxytag: member="dsim_model::handle_message" ref="ga4e9fc0a058ddd601bcbb44f957ae67d1" args="(const std::string &amp;sender_path, const std::string &amp;message_name, const dsim_value &amp;argument)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdsim__value.html">dsim_value</a> dsim_model::handle_message </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"> <em>sender_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"> <em>message_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdsim__value.html">dsim_value</a> &amp;&#160;</td>
          <td class="paramname"> <em>argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overridden by subclasses to handle messages sent by other objects. </p>
<p>Models should override this function to provide message handling capabilities. For messages that are not handled by this model, the message should be passed to the superclass implementation of handle_message().</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sender_path</td><td>The path to the object that sent the message. </td></tr>
    <tr><td class="paramname">message_name</td><td>The message being sent. </td></tr>
    <tr><td class="paramname">argument</td><td>The argument provided with the message. Not all messages will require an argument; for those that do not, the argument can be ignored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value to be provided as a return value to the sender. If no return value is appropriate, simply return a <a class="el" href="classdsim__value.html" title="Represents the value of a variable or message.">dsim_value</a> object created with the default constructor: return dsim_value(); </dd></dl>

<p>Reimplemented in <a class="el" href="classdsim__rigid__body.html#aa528fe581e72943f538448ac026c127e">dsim_rigid_body</a>.</p>

</div>
</div>
<a class="anchor" id="gad79ebc7770f5930b2baf3645101520ca"></a><!-- doxytag: member="dsim_model::lookup_target" ref="gad79ebc7770f5930b2baf3645101520ca" args="(const char *target_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * dsim_model::lookup_target </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>target_name</em>&#160;)</td>
          <td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Look up the target that was set in a setup file. </p>
<p>Looks up the destination set for a target with a provided name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">target_name</td><td>The name of the target to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If the target exists, the specified destination path will be returned. An empty string will be returned if the target does not exist or does not have a destination set. </dd></dl>

</div>
</div>
<a class="anchor" id="gaddeb3deb502759848232738e922c9019"></a><!-- doxytag: member="dsim_model::send_message" ref="gaddeb3deb502759848232738e922c9019" args="(const char *destination, const char *message_name, const dsim_value &amp;argument)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdsim__value.html">dsim_value</a> dsim_model::send_message </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>message_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdsim__value.html">dsim_value</a> &amp;&#160;</td>
          <td class="paramname"> <em>argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a message to a destination object, and receive a value in return. </p>
<p>Sends a message to a specified destination object, and returns the value returned by that object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">destination</td><td>The path to the object to which the message should be sent. </td></tr>
    <tr><td class="paramname">message_name</td><td>The name of the message that should be sent. If the destination object does not exist or does not handle the message, a warning will be emitted. </td></tr>
    <tr><td class="paramname">argument</td><td>A value argument to provide with the message. If no argument should be sent, an invalid <a class="el" href="classdsim__value.html" title="Represents the value of a variable or message.">dsim_value</a> (created by simply calling the default constructor) can be provided. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The value returned by the destination object, if the message send was successful and the object returned a value; otherwise an invalid <a class="el" href="classdsim__value.html" title="Represents the value of a variable or message.">dsim_value</a> will be returned. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf1e28f397bec10dbedf1b03759d89836"></a><!-- doxytag: member="dsim_model::set_target" ref="gaf1e28f397bec10dbedf1b03759d89836" args="(const char *target_name, const char *target_path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dsim_model::set_target </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>target_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>target_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the a target's path. </p>
<p>Sets a target's destination path. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">target_name</td><td>The name of the target to set. </td></tr>
    <tr><td class="paramname">target_path</td><td>The destination path to set for the target. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True, if the named target exists, or false if target_name specified an invalid target. </dd></dl>

</div>
</div>
<a class="anchor" id="gac21e0f3af6c4716425afa853e6d15fc3"></a><!-- doxytag: member="dsim_model::target_destinations" ref="gac21e0f3af6c4716425afa853e6d15fc3" args="(const std::string &amp;target_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; std::string &gt; &amp; dsim_model::target_destinations </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"> <em>target_name</em>&#160;)</td>
          <td><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the vector of destinations for a multi-valued target. </p>
<p>Retrieves the set of destinations stored for a multi-valued target. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">target_name</td><td>The name of the target to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If the target exists, a vector containing the stored destinations will be returned. An exception is thrown if the target does not exist. </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 5 2013 16:46:48 for DSim by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
