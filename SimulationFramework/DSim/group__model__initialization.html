<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DSim: Model Initialization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Model Initialization</h1>  </div>
</div>
<div class="contents">

<p><a class="el" href="classdsim__model.html" title="Superclass for all simulated objects.">dsim_model</a> member functions that handle initialization tasks.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__initialization.html#ga515667cc81d70bdd9b90fe4b38a9d709">dsim_model::describe_setup</a> (void *ds)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden by subclasses to describe the custom setup data that they can handle.  <a href="#ga515667cc81d70bdd9b90fe4b38a9d709"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__initialization.html#ga6b62431f0073b95e03f9069f964f728c">dsim_model::describe_setup_command</a> (void *ds, const char *command, const char *description)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by subclasses from within describe_setup() to describe a setup command that they accept.  <a href="#ga6b62431f0073b95e03f9069f964f728c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__initialization.html#ga5a46a93560e64a1cb01b2bc0ee5852cd">dsim_model::parse_setup</a> (const char *command, const char *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden by subclasses to handle custom setup data.  <a href="#ga5a46a93560e64a1cb01b2bc0ee5852cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__initialization.html#ga499b530ceb3e95eb737d2aa1fa6c6c88">dsim_model::initialize_data</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden by subclasses to create variables and outlets.  <a href="#ga499b530ceb3e95eb737d2aa1fa6c6c88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__model__initialization.html#gac9ef83c74f584d1677e3326fefd9db71">dsim_model::initialization_complete</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Overridden by subclasses to request variables and set up for propagation.  <a href="#gac9ef83c74f584d1677e3326fefd9db71"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classdsim__model.html" title="Superclass for all simulated objects.">dsim_model</a> member functions that handle initialization tasks. </p>
<p>These methods handle object initialization tasks, as well as providing documentation for the types of custom setup commands that this model handles (describe_setup() and describe_setup_command()). Most subclasses will at least override initialize_data() and initialization_complete(); those that need to provide custom setup commands will also override parse_setup(), describe_setup(), and describe_setup_command(). </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga515667cc81d70bdd9b90fe4b38a9d709"></a><!-- doxytag: member="dsim_model::describe_setup" ref="ga515667cc81d70bdd9b90fe4b38a9d709" args="(void *ds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * dsim_model::describe_setup </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"> <em>ds</em>&#160;)</td>
          <td><code> [virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overridden by subclasses to describe the custom setup data that they can handle. </p>
<p>By overriding describe_setup(), models are able to self-document the setup commands that they accept. This is necessary for users to properly set up objects of this model with the DSim Manager application, as only described setup commands can be used from that application. Models that do not accept custom setup commands do not need to provide an implementation of this function, but models that override parse_setup() should also override describe_setup().</p>
<p>Within the describe_setup() implemenation, describe_setup_command() should be called once for each setup command that this model accepts.</p>
<p>Always call your model's superclass's implementation of describe_setup() first.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ds</td><td>An opaque pointer to a setup data structure. It should be passed unchanged to calls to describe_setup_command, and then provided as the functions return value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The function should return its argument, ds. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6b62431f0073b95e03f9069f964f728c"></a><!-- doxytag: member="dsim_model::describe_setup_command" ref="ga6b62431f0073b95e03f9069f964f728c" args="(void *ds, const char *command, const char *description)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dsim_model::describe_setup_command </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"> <em>ds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>description</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by subclasses from within describe_setup() to describe a setup command that they accept. </p>
<p>Documents a single setup command accepted by this model. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ds</td><td>The opaque setup pointer provided as the parameter to the call to describe_setup(). </td></tr>
    <tr><td class="paramname">command</td><td>A command accepted by this model, which should match one of the strings handled by this model's implementation of parse_setup(). </td></tr>
    <tr><td class="paramname">description</td><td>A human-readable description of this command. This description will be displayed to users who are setting up objects of this model to allow them to properly use the custom setup commands. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac9ef83c74f584d1677e3326fefd9db71"></a><!-- doxytag: member="dsim_model::initialization_complete" ref="gac9ef83c74f584d1677e3326fefd9db71" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dsim_model::initialization_complete </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overridden by subclasses to request variables and set up for propagation. </p>
<p>Called by the simulation on all objects to indicate that initialization has completed. At the time of this call, all objects will have had initialize_data() called on them, all networks, targets, and outlets will be set up, and all custom setup lines will have been handled. This is the appropriate function for any intialization tasks which require the rest of the simulation to be set-up and accessible.</p>
<p>Models that override this function must take care to call their superclass's implementation first. </p>

<p>Reimplemented in <a class="el" href="classdsim__ideal__gravity.html#abf6356e910ce2553461c51c4ba92d7f8">dsim_ideal_gravity</a>, <a class="el" href="classdsim__ideal__spring.html#a6e80357377b395bf520dba137a3a16a7">dsim_ideal_spring</a>, and <a class="el" href="classdsim__second__order.html#ab4f98b2d427698f8b19b5f347d79c408">dsim_second_order</a>.</p>

</div>
</div>
<a class="anchor" id="ga499b530ceb3e95eb737d2aa1fa6c6c88"></a><!-- doxytag: member="dsim_model::initialize_data" ref="ga499b530ceb3e95eb737d2aa1fa6c6c88" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dsim_model::initialize_data </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overridden by subclasses to create variables and outlets. </p>
<p>Called by the simulation engine on all objects after all objects have been created and placed appropriately in the simulation hierarchy. Models should override this function to do any variable initialization that the model requires: all calls to create_* functions should take place within this function.</p>
<p>When the simulation calls initialize_data(), it is the model's first opportunity to use DSim function calls. However, the order in which models are initialized is undefined, so models should not attempt to access the simulation hierarchy, look up external variables or objects, or otherwise expect that any other objects in the system have been set up. Initialization tasks that require interacting with the rest of the simulation should be deferred until initialization_complete() is called.</p>
<p>Models that override this function must take care to call their superclass's implementation first. </p>

<p>Reimplemented in <a class="el" href="classdsim__ideal__gravity.html#a066d0d4f15598eada3b225758173e4f0">dsim_ideal_gravity</a>, <a class="el" href="classdsim__ideal__spring.html#adf771637bb5bf95229152deca82a8819">dsim_ideal_spring</a>, <a class="el" href="classdsim__rigid__body.html#a81c9bde5055b778d952d3507f4a83860">dsim_rigid_body</a>, and <a class="el" href="classdsim__second__order.html#a15f5547978df2f5e01982096235d63b1">dsim_second_order</a>.</p>

</div>
</div>
<a class="anchor" id="ga5a46a93560e64a1cb01b2bc0ee5852cd"></a><!-- doxytag: member="dsim_model::parse_setup" ref="ga5a46a93560e64a1cb01b2bc0ee5852cd" args="(const char *command, const char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dsim_model::parse_setup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"> <em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overridden by subclasses to handle custom setup data. </p>
<p>Handles a custom setup command from the setup file for this object. Exactly what the model does with this command is entirely up to the model. This function is always called after initialize_data(); all simulation objects will have been at least initially set up at this point, and DSim methods may be invoked.</p>
<p>Models that override parse_setup() should also override describe_setup_command() to document the setup commands. Also, any commands not handled by this model should be passed to the superclass implementation of the method for handling. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>The command string provided for this custom setup line. </td></tr>
    <tr><td class="paramname">data</td><td>The data string for the command. The format and interpretation of this command is entirely determined by the model that handles the command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If the command was successfully handled by this model (or a superclass), return true. Returning false will stop setup file parsing and report a simulation error (generally stopping the run of the simulation.) </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 5 2013 16:46:48 for DSim by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
