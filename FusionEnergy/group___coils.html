<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Princeton Fusion Systems MATLAB Toolboxes: Coil Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="PFSLogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Princeton Fusion Systems MATLAB Toolboxes
   </div>
   <div id="projectbrief">MATLAB toolboxes for fusion energy analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___coils.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Coil Functions</div></div>
</div><!--header-->
<div class="contents">

<p>Coils module functions. View the published <a class="el" href="coils_demos.html">Coils Demos</a>.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac0a0bede0f07db1c1dba38172affa016"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gac0a0bede0f07db1c1dba38172affa016">CoilSelfForce</a> (in radius, in i, in n)</td></tr>
<tr class="memdesc:gac0a0bede0f07db1c1dba38172affa016"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the self force for a circular coil with a given current.  <a href="group___coils.html#gac0a0bede0f07db1c1dba38172affa016">More...</a><br /></td></tr>
<tr class="separator:gac0a0bede0f07db1c1dba38172affa016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65a0fe20c25701d5b0ee01065d465f33"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga65a0fe20c25701d5b0ee01065d465f33">CoilStresses</a> (in a, in b, in bA, in bB, in j, in nu, in r)</td></tr>
<tr class="memdesc:ga65a0fe20c25701d5b0ee01065d465f33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stresses in a finite thickness coil, circumferential and radial.  <a href="group___coils.html#ga65a0fe20c25701d5b0ee01065d465f33">More...</a><br /></td></tr>
<tr class="separator:ga65a0fe20c25701d5b0ee01065d465f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d958e5b23f1046ae7c7987c60cfba47"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga6d958e5b23f1046ae7c7987c60cfba47">CoilStressFiniteSolenoid</a> (in a, in b, in Ba, in Bb, in J, in doPlot)</td></tr>
<tr class="memdesc:ga6d958e5b23f1046ae7c7987c60cfba47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stresses in an finite solenoid from current density.  <a href="group___coils.html#ga6d958e5b23f1046ae7c7987c60cfba47">More...</a><br /></td></tr>
<tr class="separator:ga6d958e5b23f1046ae7c7987c60cfba47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39e72fed3cc5fbfa3e6b6ce137715a50"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga39e72fed3cc5fbfa3e6b6ce137715a50">CoilStressSolenoid</a> (in a, in b, in doPlot)</td></tr>
<tr class="memdesc:ga39e72fed3cc5fbfa3e6b6ce137715a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stresses in an infinite solenoid.  <a href="group___coils.html#ga39e72fed3cc5fbfa3e6b6ce137715a50">More...</a><br /></td></tr>
<tr class="separator:ga39e72fed3cc5fbfa3e6b6ce137715a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2633555d5c86b172341f5fa8361212c"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gad2633555d5c86b172341f5fa8361212c">SolenoidForces</a> (in a, in h, in i, in n)</td></tr>
<tr class="memdesc:gad2633555d5c86b172341f5fa8361212c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total force between coaxial current loops.  <a href="group___coils.html#gad2633555d5c86b172341f5fa8361212c">More...</a><br /></td></tr>
<tr class="separator:gad2633555d5c86b172341f5fa8361212c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e1b7e3afece392b92449a8448a937e4"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga7e1b7e3afece392b92449a8448a937e4">CoAxBField</a> (in rS, in zS, in rC, in zC, in <a class="elRef" href="../Common/html/group___common.html#ga1920013f51ebf53582ce747df2406e8c">IC</a>, in dr, in dz)</td></tr>
<tr class="memdesc:ga7e1b7e3afece392b92449a8448a937e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the magnetic field of concentric, axially-aligned coils.  <a href="group___coils.html#ga7e1b7e3afece392b92449a8448a937e4">More...</a><br /></td></tr>
<tr class="separator:ga7e1b7e3afece392b92449a8448a937e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6498750d6d791428bb39badb43e9bbf0"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga6498750d6d791428bb39badb43e9bbf0">CoAxConserveFluxes</a> (in CoilsRegular, in CoilsConserving)</td></tr>
<tr class="memdesc:ga6498750d6d791428bb39badb43e9bbf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine currents in conserving coils necessary to conserve flux.  <a href="group___coils.html#ga6498750d6d791428bb39badb43e9bbf0">More...</a><br /></td></tr>
<tr class="separator:ga6498750d6d791428bb39badb43e9bbf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb816330068b01d69f7d64a64a89b628"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gadb816330068b01d69f7d64a64a89b628">CoAxEllipseRR</a> (in rEllipse, in elongation, in ITot, in dr, in dz)</td></tr>
<tr class="memdesc:gadb816330068b01d69f7d64a64a89b628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filaments of a coil composed of elliptical Rigid-Rotor current profile.  <a href="group___coils.html#gadb816330068b01d69f7d64a64a89b628">More...</a><br /></td></tr>
<tr class="separator:gadb816330068b01d69f7d64a64a89b628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefded097548c4aa948aee8346a78cf52"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gaefded097548c4aa948aee8346a78cf52">CoAxFluxField</a> (in rS, in zS, in rC, in zC, in <a class="elRef" href="../Common/html/group___common.html#ga1920013f51ebf53582ce747df2406e8c">IC</a>, in boolSum, in selfSenseOffset, in boolSameDomain)</td></tr>
<tr class="memdesc:gaefded097548c4aa948aee8346a78cf52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the magnetic flux of concentric, axially-aligned coils.  <a href="group___coils.html#gaefded097548c4aa948aee8346a78cf52">More...</a><br /></td></tr>
<tr class="separator:gaefded097548c4aa948aee8346a78cf52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8d810a7f6477ea681189d0b14e716ee"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gae8d810a7f6477ea681189d0b14e716ee">CoAxFluxRadius</a> (in z, in phi, in rC, in zC, in <a class="elRef" href="../Common/html/group___common.html#ga1920013f51ebf53582ce747df2406e8c">IC</a>, in rGuess)</td></tr>
<tr class="memdesc:gae8d810a7f6477ea681189d0b14e716ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the radius of a flux surface at position z.  <a href="group___coils.html#gae8d810a7f6477ea681189d0b14e716ee">More...</a><br /></td></tr>
<tr class="separator:gae8d810a7f6477ea681189d0b14e716ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a8f36903208f1fca67df64980893b4a"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga7a8f36903208f1fca67df64980893b4a">CoAxMutualInductance</a> (in rC1, in zC1, in rC2, in zC2, in rFilament1)</td></tr>
<tr class="memdesc:ga7a8f36903208f1fca67df64980893b4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the mutual inductance of coil 2 on coil 1.  <a href="group___coils.html#ga7a8f36903208f1fca67df64980893b4a">More...</a><br /></td></tr>
<tr class="separator:ga7a8f36903208f1fca67df64980893b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2abe7667fc18d9b9b532e012d079aba"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gae2abe7667fc18d9b9b532e012d079aba">CoAxPlotBZ</a> (in rG, in zG, in rC, in zC, in <a class="elRef" href="../Common/html/group___common.html#ga1920013f51ebf53582ce747df2406e8c">IC</a>, in Bmax, in doBR)</td></tr>
<tr class="memdesc:gae2abe7667fc18d9b9b532e012d079aba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot magnitude of Bz (|Bz|) or Br contours.  <a href="group___coils.html#gae2abe7667fc18d9b9b532e012d079aba">More...</a><br /></td></tr>
<tr class="separator:gae2abe7667fc18d9b9b532e012d079aba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab62e8e35b559e9d44b5cc47a91d7fb22"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gab62e8e35b559e9d44b5cc47a91d7fb22">CoAxPlotFlux</a> (in rS, in zS, in rC, in zC, in <a class="elRef" href="../Common/html/group___common.html#ga1920013f51ebf53582ce747df2406e8c">IC</a>, in boolCoils, in hAx)</td></tr>
<tr class="memdesc:gab62e8e35b559e9d44b5cc47a91d7fb22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plot flux contours at sense points given coil positions and currents.  <a href="group___coils.html#gab62e8e35b559e9d44b5cc47a91d7fb22">More...</a><br /></td></tr>
<tr class="separator:gab62e8e35b559e9d44b5cc47a91d7fb22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8985d0f1bf6d570839390977d3325da"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gad8985d0f1bf6d570839390977d3325da">CoAxRectangle</a> (in rTurns, in zTurns, in rInner, in zCenter, in rPacking)</td></tr>
<tr class="memdesc:gad8985d0f1bf6d570839390977d3325da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce filament parameters of a coil with a rectangular cross section.  <a href="group___coils.html#gad8985d0f1bf6d570839390977d3325da">More...</a><br /></td></tr>
<tr class="separator:gad8985d0f1bf6d570839390977d3325da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9ca951bbdc3bcabe55e88248a1bc21a"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gae9ca951bbdc3bcabe55e88248a1bc21a">CoAxSelfInductance</a> (in rC, in zC, in rFilament)</td></tr>
<tr class="memdesc:gae9ca951bbdc3bcabe55e88248a1bc21a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the self inductance of a coil.  <a href="group___coils.html#gae9ca951bbdc3bcabe55e88248a1bc21a">More...</a><br /></td></tr>
<tr class="separator:gae9ca951bbdc3bcabe55e88248a1bc21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga438ad46650ae2cafb554ace2617c3d51"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga438ad46650ae2cafb554ace2617c3d51">CoAxStruct</a> ()</td></tr>
<tr class="memdesc:ga438ad46650ae2cafb554ace2617c3d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coil data structure.  <a href="group___coils.html#ga438ad46650ae2cafb554ace2617c3d51">More...</a><br /></td></tr>
<tr class="separator:ga438ad46650ae2cafb554ace2617c3d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cedd1228422c9b6305e6327d52db26c"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga8cedd1228422c9b6305e6327d52db26c">CoAxTestParticle</a> (in r0, in z0, in E0, in m, in Z, in pitch0, in gyro0, in tDur, in rC, in zC, in <a class="elRef" href="../Common/html/group___common.html#ga1920013f51ebf53582ce747df2406e8c">IC</a>)</td></tr>
<tr class="memdesc:ga8cedd1228422c9b6305e6327d52db26c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate trajectory of a test particle in a magnetic field.  <a href="group___coils.html#ga8cedd1228422c9b6305e6327d52db26c">More...</a><br /></td></tr>
<tr class="separator:ga8cedd1228422c9b6305e6327d52db26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae06400bede019c65c1a890ec7f4b606e"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gae06400bede019c65c1a890ec7f4b606e">CoAxFluxInChunks</a> (in rS, in zS, in rC, in zC, in <a class="elRef" href="../Common/html/group___common.html#ga1920013f51ebf53582ce747df2406e8c">IC</a>, in selfSenseOffset, in N)</td></tr>
<tr class="memdesc:gae06400bede019c65c1a890ec7f4b606e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the flux in chunks of size N.  <a href="group___coils.html#gae06400bede019c65c1a890ec7f4b606e">More...</a><br /></td></tr>
<tr class="separator:gae06400bede019c65c1a890ec7f4b606e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb0b64b7a112ec14dde316685450119c"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gacb0b64b7a112ec14dde316685450119c">CoAxL2</a> (in zCenter)</td></tr>
<tr class="memdesc:gacb0b64b7a112ec14dde316685450119c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce filament parameters of a single L-2 coil.  <a href="group___coils.html#gacb0b64b7a112ec14dde316685450119c">More...</a><br /></td></tr>
<tr class="separator:gacb0b64b7a112ec14dde316685450119c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b647381d8c8be74e99498b45689803f"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga2b647381d8c8be74e99498b45689803f">CoAxL2Pack</a> (in zCenter, in N)</td></tr>
<tr class="memdesc:ga2b647381d8c8be74e99498b45689803f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce filament parameters of an L-2 coil pack.  <a href="group___coils.html#ga2b647381d8c8be74e99498b45689803f">More...</a><br /></td></tr>
<tr class="separator:ga2b647381d8c8be74e99498b45689803f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54cc4ecdf36f758a0f73c7435ea4c090"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga54cc4ecdf36f758a0f73c7435ea4c090">ConstBFlux</a> (in r, in B)</td></tr>
<tr class="memdesc:ga54cc4ecdf36f758a0f73c7435ea4c090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enclosed flux assuming constant B.  <a href="group___coils.html#ga54cc4ecdf36f758a0f73c7435ea4c090">More...</a><br /></td></tr>
<tr class="separator:ga54cc4ecdf36f758a0f73c7435ea4c090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga122e3f4efb1b3d7ec79cfd58f4cc7c53"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga122e3f4efb1b3d7ec79cfd58f4cc7c53">CoilTurns</a> (in Ri, in I0, in Iwire, in diameter, in density)</td></tr>
<tr class="memdesc:ga122e3f4efb1b3d7ec79cfd58f4cc7c53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the number of turns and mass for a coil of round wire.  <a href="group___coils.html#ga122e3f4efb1b3d7ec79cfd58f4cc7c53">More...</a><br /></td></tr>
<tr class="separator:ga122e3f4efb1b3d7ec79cfd58f4cc7c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc1dd25c0718a71d3e8c4c99a3678dd2"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gabc1dd25c0718a71d3e8c4c99a3678dd2">MagnetArrayMass</a> (in a0, in I0, in Iop, in N0, in d)</td></tr>
<tr class="memdesc:gabc1dd25c0718a71d3e8c4c99a3678dd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the size and mass of pancake magnets from radius and current.  <a href="group___coils.html#gabc1dd25c0718a71d3e8c4c99a3678dd2">More...</a><br /></td></tr>
<tr class="separator:gabc1dd25c0718a71d3e8c4c99a3678dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea180fb6fa291a467d5e4ebff2ad6986"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gaea180fb6fa291a467d5e4ebff2ad6986">MagnetDataStructure</a> ()</td></tr>
<tr class="memdesc:gaea180fb6fa291a467d5e4ebff2ad6986"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magnet data structure for current and mass model.  <a href="group___coils.html#gaea180fb6fa291a467d5e4ebff2ad6986">More...</a><br /></td></tr>
<tr class="separator:gaea180fb6fa291a467d5e4ebff2ad6986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41f6e03c9fec6b2e039713299ac51152"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga41f6e03c9fec6b2e039713299ac51152">SolenoidStructuralMass</a> (in a, in b, in w, in z, in bA, in bB, in j, in nu, in sigma, in rho)</td></tr>
<tr class="memdesc:ga41f6e03c9fec6b2e039713299ac51152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structural mass for a discrete solenoid.  <a href="group___coils.html#ga41f6e03c9fec6b2e039713299ac51152">More...</a><br /></td></tr>
<tr class="separator:ga41f6e03c9fec6b2e039713299ac51152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45f5dc7eceb08f117e8a70da15df9038"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga45f5dc7eceb08f117e8a70da15df9038">Bpancake</a> (in Iop, in Ri, in Ro, in N, in H, in invert)</td></tr>
<tr class="memdesc:ga45f5dc7eceb08f117e8a70da15df9038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magnetic field of a pancake coil.  <a href="group___coils.html#ga45f5dc7eceb08f117e8a70da15df9038">More...</a><br /></td></tr>
<tr class="separator:ga45f5dc7eceb08f117e8a70da15df9038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70060b6cae692f6c7c47f59ebbb8701d"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga70060b6cae692f6c7c47f59ebbb8701d">PancakeMagnetMass</a> (in B0, in Ri, in N, in Iop, in d)</td></tr>
<tr class="memdesc:ga70060b6cae692f6c7c47f59ebbb8701d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size a pancake magnet to produce a desired B given the wire properties.  <a href="group___coils.html#ga70060b6cae692f6c7c47f59ebbb8701d">More...</a><br /></td></tr>
<tr class="separator:ga70060b6cae692f6c7c47f59ebbb8701d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d2598ef863836c92b37f6cfa8a236fd"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga4d2598ef863836c92b37f6cfa8a236fd">PancakeMagnetTurns</a> (in I0, in Ri, in N, in Iop, in d)</td></tr>
<tr class="memdesc:ga4d2598ef863836c92b37f6cfa8a236fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the turns for a pancake magnet given the total current.  <a href="group___coils.html#ga4d2598ef863836c92b37f6cfa8a236fd">More...</a><br /></td></tr>
<tr class="separator:ga4d2598ef863836c92b37f6cfa8a236fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46586aba456860049cbe1d65c93b5a12"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga46586aba456860049cbe1d65c93b5a12">REffPancake</a> (in Ri, in Ro)</td></tr>
<tr class="memdesc:ga46586aba456860049cbe1d65c93b5a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Effective radius of a thin pancake coil.  <a href="group___coils.html#ga46586aba456860049cbe1d65c93b5a12">More...</a><br /></td></tr>
<tr class="separator:ga46586aba456860049cbe1d65c93b5a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6021a22834f129bd7b130cc418a4d88"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gad6021a22834f129bd7b130cc418a4d88">ConcentricCoils</a> (in d, in bAve, in a, in pTitle)</td></tr>
<tr class="memdesc:gad6021a22834f129bd7b130cc418a4d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Field for coaxial coils (poorly named)  <a href="group___coils.html#gad6021a22834f129bd7b130cc418a4d88">More...</a><br /></td></tr>
<tr class="separator:gad6021a22834f129bd7b130cc418a4d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0faf6d9eef390ff581d672714dd15b38"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga0faf6d9eef390ff581d672714dd15b38">ConcentricCoilsFiniteWidth</a> (in d, in bAve, in a, in w, in pTitle)</td></tr>
<tr class="memdesc:ga0faf6d9eef390ff581d672714dd15b38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Field for concentric coils with a finite width.  <a href="group___coils.html#ga0faf6d9eef390ff581d672714dd15b38">More...</a><br /></td></tr>
<tr class="separator:ga0faf6d9eef390ff581d672714dd15b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98c2af769d4c2ee8828c574572b9ef3d"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga98c2af769d4c2ee8828c574572b9ef3d">CurrentForField</a> (in a, in B)</td></tr>
<tr class="memdesc:ga98c2af769d4c2ee8828c574572b9ef3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current to produce a desired field at the center of a wire loop.  <a href="group___coils.html#ga98c2af769d4c2ee8828c574572b9ef3d">More...</a><br /></td></tr>
<tr class="separator:ga98c2af769d4c2ee8828c574572b9ef3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55821bd43b38f3e03aa12c4447323a38"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga55821bd43b38f3e03aa12c4447323a38">FieldCurrentLoop</a> (in a, in i, in z)</td></tr>
<tr class="memdesc:ga55821bd43b38f3e03aa12c4447323a38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Field along the central axis of a single current loop.  <a href="group___coils.html#ga55821bd43b38f3e03aa12c4447323a38">More...</a><br /></td></tr>
<tr class="separator:ga55821bd43b38f3e03aa12c4447323a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae57dc5a0d55453bee55c16cddfe3a87"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gaae57dc5a0d55453bee55c16cddfe3a87">ForceBetweenCurrentLoops</a> (in a, in h, in i, in n)</td></tr>
<tr class="memdesc:gaae57dc5a0d55453bee55c16cddfe3a87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total force between concentric current loops.  <a href="group___coils.html#gaae57dc5a0d55453bee55c16cddfe3a87">More...</a><br /></td></tr>
<tr class="separator:gaae57dc5a0d55453bee55c16cddfe3a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0685e311bf348d58b317dce015a0058"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gab0685e311bf348d58b317dce015a0058">EllipsoidalSolenoid</a> (in rMin, in rMax, in z)</td></tr>
<tr class="memdesc:gab0685e311bf348d58b317dce015a0058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the radii for an ellipsoidal solenoid.  <a href="group___coils.html#gab0685e311bf348d58b317dce015a0058">More...</a><br /></td></tr>
<tr class="separator:gab0685e311bf348d58b317dce015a0058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab11a8b29ddeb914283e15e4649fef008"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gab11a8b29ddeb914283e15e4649fef008">FLinearCurrent</a> (in z0, in Imin)</td></tr>
<tr class="memdesc:gab11a8b29ddeb914283e15e4649fef008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear current shape for PFRC magnets.  <a href="group___coils.html#gab11a8b29ddeb914283e15e4649fef008">More...</a><br /></td></tr>
<tr class="separator:gab11a8b29ddeb914283e15e4649fef008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadac24de9d275e3556a38eda4dbea76e4"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gadac24de9d275e3556a38eda4dbea76e4">FSteppedCurrent</a> (in z0, in Iend)</td></tr>
<tr class="memdesc:gadac24de9d275e3556a38eda4dbea76e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stepped current shape for PFRC magnets.  <a href="group___coils.html#gadac24de9d275e3556a38eda4dbea76e4">More...</a><br /></td></tr>
<tr class="separator:gadac24de9d275e3556a38eda4dbea76e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1eea732a2f05a7fbddcda2ba44291dcb"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga1eea732a2f05a7fbddcda2ba44291dcb">ScanMagnetArray</a> (in a0, in I0, in z0, in doPlot)</td></tr>
<tr class="memdesc:ga1eea732a2f05a7fbddcda2ba44291dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute axial field scan of a symmetric magnet array.  <a href="group___coils.html#ga1eea732a2f05a7fbddcda2ba44291dcb">More...</a><br /></td></tr>
<tr class="separator:ga1eea732a2f05a7fbddcda2ba44291dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c6cc549eca23faf318c2f7fd85e3464"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga0c6cc549eca23faf318c2f7fd85e3464">SolveSolenoid</a> (in a0, in z0, in B0, in fScale)</td></tr>
<tr class="memdesc:ga0c6cc549eca23faf318c2f7fd85e3464"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solve for the maximum current that produces the target peak field.  <a href="group___coils.html#ga0c6cc549eca23faf318c2f7fd85e3464">More...</a><br /></td></tr>
<tr class="separator:ga0c6cc549eca23faf318c2f7fd85e3464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb30124b2fbf7fac318345823c3c671b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gafb30124b2fbf7fac318345823c3c671b">NbTiHysteresis</a> (in BDot, in Jc, in d, in Jt)</td></tr>
<tr class="memdesc:gafb30124b2fbf7fac318345823c3c671b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the heating due to hysteresis in an AC NbTi coil.  <a href="group___coils.html#gafb30124b2fbf7fac318345823c3c671b">More...</a><br /></td></tr>
<tr class="separator:gafb30124b2fbf7fac318345823c3c671b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0df8a50ca636988424a274441f7d249"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gae0df8a50ca636988424a274441f7d249">NbTiModel</a> (in T, in B, in Jop)</td></tr>
<tr class="memdesc:gae0df8a50ca636988424a274441f7d249"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the critical current and temperature for NbTi wire.  <a href="group___coils.html#gae0df8a50ca636988424a274441f7d249">More...</a><br /></td></tr>
<tr class="separator:gae0df8a50ca636988424a274441f7d249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab55719c281e33098a57178a706b9a442"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#gab55719c281e33098a57178a706b9a442">NbTiPenetrationField</a> (in Jc, in d)</td></tr>
<tr class="memdesc:gab55719c281e33098a57178a706b9a442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the penetration field of an AC NbTi coil.  <a href="group___coils.html#gab55719c281e33098a57178a706b9a442">More...</a><br /></td></tr>
<tr class="separator:gab55719c281e33098a57178a706b9a442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79f9e74f772b9def1c2a16b10bd02d1b"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga79f9e74f772b9def1c2a16b10bd02d1b">SuperconductorDataStructure</a> (in type)</td></tr>
<tr class="memdesc:ga79f9e74f772b9def1c2a16b10bd02d1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Superconducting wire data structure, HTS or LTS.  <a href="group___coils.html#ga79f9e74f772b9def1c2a16b10bd02d1b">More...</a><br /></td></tr>
<tr class="separator:ga79f9e74f772b9def1c2a16b10bd02d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76f323082cc3dfa1fec0993b0fe52aa0"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___coils.html#ga76f323082cc3dfa1fec0993b0fe52aa0">SuperPowerHTS</a> (in B, in T)</td></tr>
<tr class="memdesc:ga76f323082cc3dfa1fec0993b0fe52aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properties of SuperPower HTS 12 mm tape.  <a href="group___coils.html#ga76f323082cc3dfa1fec0993b0fe52aa0">More...</a><br /></td></tr>
<tr class="separator:ga76f323082cc3dfa1fec0993b0fe52aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Coils module functions. View the published <a class="el" href="coils_demos.html">Coils Demos</a>. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga45f5dc7eceb08f117e8a70da15df9038" name="ga45f5dc7eceb08f117e8a70da15df9038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45f5dc7eceb08f117e8a70da15df9038">&#9670;&nbsp;</a></span>Bpancake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function Bpancake </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Iop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Ro</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>H</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>invert</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Magnetic field of a pancake coil. </p>
<p >Magnets coils can be parameterized by the inner radius, outer radius, and thickness. This is expressed by alpha, the ratio of the outer to inner radii; and beta, the ratio of the thickness to the inner diameter.</p>
<pre class="fragment">alpha = Ro/Ri
beta  = H/(2*Ri)
</pre><p> In the limit of an infinitely thin coil, the model reduces to</p>
<pre class="fragment">Reff = Ri*(alpha-1)/log(alpha)
</pre><p> This function can also do the inverse calculation, and return a current for a desired field B.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md95"></a>
Form</h2>
<pre class="fragment">B = Bpancake(Iop,Ri,Ro,N,H)
I = Bpancake(B,Ri,Ro,N,H,invert=true)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md97"></a>
Inputs</h2>
<pre class="fragment">Iop    (1,1)   Operating current (A)
Ri     (1,1)   Inner radius (m)
Ro     (1,1)   Outer radius (m)
N      (1,1)   Number of turns
H      (1,1)   Coil height (m)
invert  (1)    Boolean
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md98"></a>
Outputs</h2>
<pre class="fragment">B      (1,1)   Central field
alpha  (1,1)
beta   (1,1)
</pre> <hr  />
<p> See also REffPancake</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="ga7e1b7e3afece392b92449a8448a937e4" name="ga7e1b7e3afece392b92449a8448a937e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e1b7e3afece392b92449a8448a937e4">&#9670;&nbsp;</a></span>CoAxBField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxBField </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>IC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>dz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the magnetic field of concentric, axially-aligned coils. </p>
<p >Computes the magnetic flux enclosed on two sides of each sense point and divides by the differential length to compute field strength.</p>
<p >Type CoAxBField for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md24"></a>
Form</h2>
<pre class="fragment">[Br, Bz, Btot] = CoAxBField(rS,zS,rC,zC,IC,dr,dz)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md26"></a>
Inputs</h2>
<pre class="fragment">rS                    List of r-value sense points in meters (m)
zS                    List of z-value sense points in meters (m)
rC                    List of r-values of coils in meters (m)
zC                    List of z-values of coils in meters (m)
IC                    List of currents of coils in Amperes (A)
dr                    (Optional) Differential length in r direction.
Default: 1mm
dz                    (Optional) Differential length in z direction.
Default: 1mm
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md27"></a>
Outputs</h2>
<pre class="fragment">Br                    Magnetic field values in the r-direction array
Bz                    Magnetic field values in the z-direction array
Btot                  (Optional) Magnetic field amplitudes array
</pre><hr  />
<p >See also: CoAxFluxField</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="elRef" href="../Common/html/statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, and <a class="elRef" href="../Common/html/_close_u_i_element_8m.html#acb3a856dd1ef48620b82f6b27075cc90">List()</a>.</p>

</div>
</div>
<a id="ga6498750d6d791428bb39badb43e9bbf0" name="ga6498750d6d791428bb39badb43e9bbf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6498750d6d791428bb39badb43e9bbf0">&#9670;&nbsp;</a></span>CoAxConserveFluxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxConserveFluxes </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>CoilsRegular</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>CoilsConserving</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine currents in conserving coils necessary to conserve flux. </p>
<p >It is assumed that CoilsConserving reach a steady state, then CoilsRegular are energized. They drive image currents in CoilsConserving in such a way as to conserve the flux enclosed by CoilsConserving.</p>
<p >Type CoAxConserveFluxes for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md28"></a>
Form</h2>
<pre class="fragment">ISC = CoAxConserveFluxes(CoilsRegular,CoilsConserving)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md30"></a>
Inputs</h2>
<pre class="fragment">CoilsRegular     [:,4] Array of regular (non-flux-conserving)
failments. These coils drive flux in the
conserving coils, to which they react. Format of
each cell row is [r,z,w,I] where r is the
filament radius, z the filament axial postion, w
is the filament conductor radius, and I is the
filament current. Units are meters and Amperes.
CoilsConserving  {:,1} Cell array of cell arrays of flux conserving
coils. These coils have image currents induced
in them until the flux enclosed is at its
initial value. Format of each cell is {1x4
cell}, containing a row of cells. The format for
this row is {r,z,w,I} where r is a number array
of radii, z is a number array of axial postions,
w is one scalar conductor radius, and I is one
scalar current, the initial current through the
conserving loop before CoilsRegular are
energized. Units are meters and Amperes.
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md31"></a>
Outputs</h2>
<pre class="fragment">ISC              (:,1) Currents in amperes necessary for the coils
specified in CoilsConserving to maintain their
initial level of flux given the magnetic fields
induced by CoilsRegular
</pre><hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="gadb816330068b01d69f7d64a64a89b628" name="gadb816330068b01d69f7d64a64a89b628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb816330068b01d69f7d64a64a89b628">&#9670;&nbsp;</a></span>CoAxEllipseRR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxEllipseRR </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rEllipse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>elongation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>ITot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>dz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filaments of a coil composed of elliptical Rigid-Rotor current profile. </p>
<p >Dimensions in meters, currents in Amperes</p>
<p >Type CoAxEllipseRR for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md32"></a>
Form</h2>
<pre class="fragment">[rC,zC,IC,d] = CoAxEllipseRR( rEllipse, elongation, ITot, dr, dz)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md34"></a>
Inputs</h2>
<pre class="fragment">rEllipse       (1,1) Maximum radius of the ellipse in meters
elongation     (1,1) Ratio of axial half-length to radius
ITot           (1,1) Total current in Amperes
dr             (1,1) Discretization increment radially (m)
dz             (1,1) Discretization increment axially (m)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md35"></a>
Outputs</h2>
<pre class="fragment">rC             (:,1) List of the r-values of each filament of the coil.
zC             (:,1) List of the z-values of each filament of the coil.
IC             (:,1) List of the current values of each filament of the
coil. Proportional to r, as in a rigid rotor.
d              (.)   Coil data structure
</pre><hr  />
 
</div>
</div>
<a id="gaefded097548c4aa948aee8346a78cf52" name="gaefded097548c4aa948aee8346a78cf52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaefded097548c4aa948aee8346a78cf52">&#9670;&nbsp;</a></span>CoAxFluxField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxFluxField </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>IC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>boolSum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>selfSenseOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>boolSameDomain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the magnetic flux of concentric, axially-aligned coils. </p>
<p >A coil is a list of filaments with r-positions, z-positions, radii, and currents.</p>
<p >Type CoAxFluxField for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md36"></a>
Form</h2>
<pre class="fragment">phi = CoAxFluxField(rS,zS,rC,zC,IC,boolSum,selfSenseOffset,boolSameDomain)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md38"></a>
Inputs</h2>
<pre class="fragment">rS      (:,:) Vector or array of r-value sense points in meters (m)
zS      (:,:) Vector or array of z-value sense points in meters (m)
rC      (:,:) Vector or array of r-values of coils in meters (m)
zC      (:,:) Vector or array of z-values of coils in meters (m)
IC      (:,:) Vector or array of of currents of coils in Amperes (A)
boolSum (1,1) Logical. If true, returned flux is the total summed flux.
If false, the returned flux stays coil-wise and has a
different dimensionality.
selfSenseOffset
(1,1) If the sense point is the same as a filament point, flux
of infinity results. If this is nonzero, at sense points
that lie on top of a filament, instead the sense point is
moved radially inwards by this amount (m)
boolSameDomain
(1,1) Logical. If true, the sense and coil positions aren't
unpacked into orthogonal domains. Default: false
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md39"></a>
Outputs</h2>
<pre class="fragment">phi     (:,:) Vector or array of magnetic fluxes enclosed by the vector
or array of loops of radius rS, axial position zS. Units
of Tesla-m^2. If boolSum is true, the dimensions of phi
are the same as the dimensions of the sense points. If
false, phi is a 2D array where size in dimension 1 is the
number of elements in the sense point array and size in
dimension 2 is the number of elements in the coil array.
</pre><p> References: <a href="http://www.kurtnalty.com/A_to_B.pdf">http://www.kurtnalty.com/A_to_B.pdf</a></p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="gae06400bede019c65c1a890ec7f4b606e" name="gae06400bede019c65c1a890ec7f4b606e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae06400bede019c65c1a890ec7f4b606e">&#9670;&nbsp;</a></span>CoAxFluxInChunks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxFluxInChunks </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>IC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>selfSenseOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>N</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the flux in chunks of size N. </p>
<p >In case there are many coils over which to integrate, this function computes the flux only in calculations of size N, where a calculation is the flux from one point on another.</p>
<p >This function is necessary because if CoAxFluxField is run with 1 billion calculations, the computer will crash. However if CoAxFluxInChunks is run in chunks of 30,000, 1 billion flux calculations takes 80 seconds.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md71"></a>
Form</h2>
<pre class="fragment">CoAxFluxInChunks   % demo
phi = CoAxFluxInChunks(rS,zS,rC,zC,IC)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md73"></a>
Inputs</h2>
<pre class="fragment">rS      (:,:) Vector or array of r-value sense points in meters (m)
zS      (:,:) Vector or array of z-value sense points in meters (m)
rC      (:,:) Vector or array of r-values of coils in meters (m)
zC      (:,:) Vector or array of z-values of coils in meters (m)
IC      (:,:) Vector or array of of currents of coils in Amperes (A)
selfSenseOffset
(1,1) If the sense point is the same as a filament point, flux
of infinity results. If this is nonzero, at sense points
that lie on top of a filament, instead the sense point is
moved radially inwards by this amount (m)
N       (1,1) Size of calculation chunks
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md74"></a>
Outputs</h2>
<pre class="fragment">phi     (:,:) Vector or array of magnetic fluxes enclosed by the vector
or array of loops of radius rC, axial position zC. Units
of Tesla-m^2. 
</pre><hr  />
 
</div>
</div>
<a id="gae8d810a7f6477ea681189d0b14e716ee" name="gae8d810a7f6477ea681189d0b14e716ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae8d810a7f6477ea681189d0b14e716ee">&#9670;&nbsp;</a></span>CoAxFluxRadius()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxFluxRadius </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>phi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>IC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rGuess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the radius of a flux surface at position z. </p>
<p >Together, r and z generate a flux surface.</p>
<p >Type CoAxFluxRadius for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md40"></a>
Form</h2>
<pre class="fragment">r = CoAxFluxRadius(z,phi,rC,zC,IC,rGuess)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md42"></a>
Inputs</h2>
<pre class="fragment">z       (1,:) Vector of z points in meters (m)
phi     (1,1) Magnetic flux of the surface in question (T-m^2)
rC      (:,:) Vector or array of r-values of coils in meters (m)
zC      (:,:) Vector or array of z-values of coils in meters (m)
IC      (:,:) Vector or array of of currents of coils in Amperes (A)
rGuess  (1,1) Initial radius guess (m)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md43"></a>
Outputs</h2>
<pre class="fragment">r       (1,:) Vector of radii, corresponding to the radius at the
given z-value of the flux surface of flux phi
</pre><hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="gacb0b64b7a112ec14dde316685450119c" name="gacb0b64b7a112ec14dde316685450119c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb0b64b7a112ec14dde316685450119c">&#9670;&nbsp;</a></span>CoAxL2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxL2 </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zCenter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Produce filament parameters of a single L-2 coil. </p>
<p >Dimensions in meters. Parameters from P. Bonanos AEC Tech Memo 207. The single winding at the bottom is not a bug, but a feature of the real magnet. Type CoAxL2 for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md75"></a>
Form</h2>
<pre class="fragment">CoAxL2;   % demo
[rC,zC,d] = CoAxL2( zCenter )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md77"></a>
Inputs</h2>
<pre class="fragment">zCenter        (1,1) Central z-value of the coil in meters
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md78"></a>
Outputs</h2>
<pre class="fragment">rC             (:,:) r-values of each filament of the coil. Increases
in dimension 1.
zC             (:,:) z-values of each filament of the coil. Increases
in dimension 2.
d              (.)   Coil data structure
</pre><hr  />
 
</div>
</div>
<a id="ga2b647381d8c8be74e99498b45689803f" name="ga2b647381d8c8be74e99498b45689803f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b647381d8c8be74e99498b45689803f">&#9670;&nbsp;</a></span>CoAxL2Pack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxL2Pack </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zCenter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>N</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Produce filament parameters of an L-2 coil pack. </p>
<p >Dimensions in meters. Parameters from P. Bonanos AEC Tech Memo 207</p>
<hr  />
<h2><a class="anchor" id="autotoc_md79"></a>
Form</h2>
<pre class="fragment">[rC,zC,d] = CoAxL2Pack( zCenter , N , boolTape)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md81"></a>
Inputs</h2>
<pre class="fragment">zCenter        (1,1) Central z-value of the pack in meters
N              (1,1) Number of L2 coils in the pack
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md82"></a>
Outputs</h2>
<pre class="fragment">rC             (:,:) r-values of each filament of the coil. 
zC             (:,:) z-values of each filament of the coil. 
d              (.)   Coil data structure
</pre><hr  />
 
</div>
</div>
<a id="ga7a8f36903208f1fca67df64980893b4a" name="ga7a8f36903208f1fca67df64980893b4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a8f36903208f1fca67df64980893b4a">&#9670;&nbsp;</a></span>CoAxMutualInductance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxMutualInductance </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rFilament1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the mutual inductance of coil 2 on coil 1. </p>
<p >Dimensions in meters, Henries</p>
<p >Type CoAxMutualInductance for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md44"></a>
Form</h2>
<pre class="fragment">M = CoAxMutualInductance( rC1,zC1,rC2,zC2,rFilament1 )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md46"></a>
Inputs</h2>
<pre class="fragment">rC1            (:,:) Vector or array of coil 1 filament radii (m)
zC1            (:,:) Vector or array of coil 1 filament z-positions (m)
rC2            (:,:) Vector or array of coil 2 filament radii (m)
zC2            (:,:) Vector or array of coil 2 filament z-positions (m)
rFilament1     (1,1) Radius of coil 1 filament conductor (m)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md47"></a>
Outputs</h2>
<pre class="fragment">M              (1,1) Mutual inductance of coil 2 on coil 1 (H)
</pre><hr  />
<p >Copyright (c) 2020 Princeton Satellite Systems, Inc. All rights reserved.</p>
<hr  />
<p >Since version 2020.1</p>
<hr  />
 
</div>
</div>
<a id="gae2abe7667fc18d9b9b532e012d079aba" name="gae2abe7667fc18d9b9b532e012d079aba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2abe7667fc18d9b9b532e012d079aba">&#9670;&nbsp;</a></span>CoAxPlotBZ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxPlotBZ </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>IC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Bmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>doBR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plot magnitude of Bz (|Bz|) or Br contours. </p>
<p >Computes the magnetic flux enclosed on two sides of each sense point and divides by the delta area to compute field strength. If desired, enter a maximum B for drawing the contours.</p>
<p >Type CoAxPlotBZ for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md48"></a>
Form</h2>
<pre class="fragment">figHandle = CoAxPlotBZ(rG,zG,aC,zC,IC,Bmax,doBR)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md50"></a>
Inputs</h2>
<pre class="fragment">rG                    List of r-value grid points in meters (m)
zG                    List of z-value grid points in meters (m)
rC                    List of r-values of coils in meters (m)
zC                    List of z-values of coils in meters (m)
IC                    List of currents of coils in Amperes (A)
Bmax       (1,1)      Optional, max B contour
</pre><hr  />
<h2><a class="anchor" id="autotoc_md51"></a>
Outputs</h2>
<pre class="fragment">figHandle             Handle of the figure so produced
Bz                    Magnetic field values in the z-direction array
-- or --
Br                    Magnetic field values in the r-direction array
</pre><hr  />
<p >See also: CoAxBField</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/_plot_plug_in_8m.html#a5002149194a3c84b77f805c0534cc15b">Plot()</a>.</p>

</div>
</div>
<a id="gab62e8e35b559e9d44b5cc47a91d7fb22" name="gab62e8e35b559e9d44b5cc47a91d7fb22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab62e8e35b559e9d44b5cc47a91d7fb22">&#9670;&nbsp;</a></span>CoAxPlotFlux()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxPlotFlux </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>IC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>boolCoils</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>hAx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plot flux contours at sense points given coil positions and currents. </p>
<p >The sense points are the points at which the flux is computed, which should be a grid using repmat or meshgrid for computing good contours. If empty, a grid will be computed. The contours are spaced using the square root of the flux.</p>
<p >Type CoAxPlotFlux for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md52"></a>
Form</h2>
<pre class="fragment">figHandle = CoAxPlotFlux(rS,zS,aC,zC,IC,boolCoils,hAx)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md54"></a>
Inputs</h2>
<pre class="fragment">rS                    List of r-value sense points in meters (m)
zS                    List of z-value sense points in meters (m)
rC                    List of r-values of coils in meters (m)
zC                    List of z-values of coils in meters (m)
IC                    List of currents of coils in Amperes (A)
boolCoils             Logical: Plot the positions of the coils or not.
hAx                   Axis handle to plot into, optional
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md55"></a>
Outputs</h2>
<pre class="fragment">figHandle             Handle of the figure
</pre><hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="elRef" href="../Common/html/statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>, <a class="elRef" href="../Common/html/_close_u_i_element_8m.html#acb3a856dd1ef48620b82f6b27075cc90">List()</a>, and <a class="elRef" href="../Common/html/_plot_plug_in_8m.html#a5002149194a3c84b77f805c0534cc15b">Plot()</a>.</p>

</div>
</div>
<a id="gad8985d0f1bf6d570839390977d3325da" name="gad8985d0f1bf6d570839390977d3325da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8985d0f1bf6d570839390977d3325da">&#9670;&nbsp;</a></span>CoAxRectangle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxRectangle </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rTurns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zTurns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rInner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zCenter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rPacking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Produce filament parameters of a coil with a rectangular cross section. </p>
<p >Dimensions in meters</p>
<p >Type CoAxRectangle for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md56"></a>
Form</h2>
<pre class="fragment">[rC,zC,d] = CoAxRectangle( rTurns, zTurns, rInner, zCenter, rPacking)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md58"></a>
Inputs</h2>
<pre class="fragment">rTurns         (1,1) Number of turns in the r direction of the coil
zTurns         (1,1) Number of turns in the z direction of the coil.
The total number of turns in coil 1 is rTurns x
zTurns.
rInner         (1,1) Inner radius of the coil in meters
zCenter        (1,1) Central z-value of the coil in meters
rPacking       (1,1) Minimum packing radius (center spacing / 2) of
different windings
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md59"></a>
Outputs</h2>
<pre class="fragment">rC             (:,:) r-values of each filament of the coil. Increases
in dimension 1.
zC             (:,:) z-values of each filament of the coil. Increases
in dimension 2.
d              (.)   Coil data structure
</pre><hr  />
<p >Copyright (c) 2020 Princeton Satellite Systems, Inc. All rights reserved.</p>
<hr  />
<p >Since version 2020.1</p>
<hr  />
 
</div>
</div>
<a id="gae9ca951bbdc3bcabe55e88248a1bc21a" name="gae9ca951bbdc3bcabe55e88248a1bc21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9ca951bbdc3bcabe55e88248a1bc21a">&#9670;&nbsp;</a></span>CoAxSelfInductance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxSelfInductance </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rFilament</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the self inductance of a coil. </p>
<p >Dimensions in meters, Henries</p>
<p >Type CoAxSelfInductance for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md60"></a>
Form</h2>
<pre class="fragment">L = CoAxSelfInductance( rC,zC,rFilament )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md62"></a>
Inputs</h2>
<pre class="fragment">rC             (:,:) Vector or array of filament radii (m)
zC             (:,:) Vector or array of filament z-positions (m)
rFilament      (1,1) Radius of the filament conductor (m)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md63"></a>
Outputs</h2>
<pre class="fragment">L              (1,1) Self-inductance of this coil (H)
</pre><hr  />
 
</div>
</div>
<a id="ga438ad46650ae2cafb554ace2617c3d51" name="ga438ad46650ae2cafb554ace2617c3d51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga438ad46650ae2cafb554ace2617c3d51">&#9670;&nbsp;</a></span>CoAxStruct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxStruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Coil data structure. </p>
<p >Each filament is a loop assumed to be centered on the z axis.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md64"></a>
Form</h2>
<pre class="fragment">d = CoAxStruct
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md66"></a>
Outputs</h2>
<pre class="fragment">d
.r    (:,:)          Filament radii
.z    (:,:)          Filament axial positions
.w    (1,1)          Filament (wire) radius
.I    (1,1) or (:,:) Scalar or array of currents
.name ''
</pre><hr  />
 
</div>
</div>
<a id="ga8cedd1228422c9b6305e6327d52db26c" name="ga8cedd1228422c9b6305e6327d52db26c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cedd1228422c9b6305e6327d52db26c">&#9670;&nbsp;</a></span>CoAxTestParticle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoAxTestParticle </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>r0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>E0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>pitch0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>gyro0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>tDur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>zC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>IC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate trajectory of a test particle in a magnetic field. </p>
<p >The magnetic field must be created by concentric, axially-aligned coils. This function may take a while to run if you simulate many gyroperiods of time. Start with 10 gyroperiods and see how long that lasts.</p>
<p >Type CoAxTestParticle for a demo.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md67"></a>
Form</h2>
<pre class="fragment">[r,z,vr,vPhi,vz,t] = CoAxTestParticle(r0,z0,E0,m,Z,pitch0,gyro0,tDur,rC,zC,IC)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md69"></a>
Inputs</h2>
<pre class="fragment">r0                    Initial r value in meters (m)
z0                    Initial z value in meters (m)
E0                    Initial particle energy in eV
m                     Particle rest mass in AMU
Z                     Particle charge state. -1 for electrons
pitch0                Pitch angle in radians. 0 is field-parallel, pi/2
is field-perpendicular.
gyro0                 Gyro angle in radians. 0 is radially inward
point, or equivalently velocity in positive
azimuthal direction 
tDur                  Duration of simulation in seconds
rC                    List of r-values of coils in meters (m)
zC                    List of z-values of coils in meters (m)
IC                    List of currents of coils in Amperes (A)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md70"></a>
Outputs</h2>
<pre class="fragment">r                     Time history vector of radial positions in m
z                     Time history vector of axial positions in m
vr                    Time history vector of radial velocity, m/s
vPhi                  Time history vector of azimuthal velocity, m/s
vz                    Time history vector of axial velocity, m/s
t                     Time values for each history vector element in s
</pre><hr  />
<p >See also: CoAxFluxField</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, <a class="elRef" href="../Common/html/_close_u_i_element_8m.html#acb3a856dd1ef48620b82f6b27075cc90">List()</a>, <a class="elRef" href="../Common/html/_radio_buttons_8m.html#aa2a36746ba4ffd2a79e24f11f9e7e21f">Set()</a>, and <a class="elRef" href="../Common/html/quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

</div>
</div>
<a id="gac0a0bede0f07db1c1dba38172affa016" name="gac0a0bede0f07db1c1dba38172affa016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0a0bede0f07db1c1dba38172affa016">&#9670;&nbsp;</a></span>CoilSelfForce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoilSelfForce </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the self force for a circular coil with a given current. </p>
<p >The integral is discretized into the given number of increments. This demonstrates that the force is constant around the circumference of the coil.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md1"></a>
Form</h2>
<pre class="fragment">[fR,f] = CoilSelfForce( radius, i, n )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md3"></a>
Inputs</h2>
<pre class="fragment">radius  (1,1)  Radius (m)
i       (1,1)  Current (A)
n       (1,1)  Increments  (default: 100)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md4"></a>
Outputs</h2>
<pre class="fragment">fR      (1,:) Radial force (N)
f       (2,:) Force in x,y
</pre> <hr  />
 
</div>
</div>
<a id="ga65a0fe20c25701d5b0ee01065d465f33" name="ga65a0fe20c25701d5b0ee01065d465f33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65a0fe20c25701d5b0ee01065d465f33">&#9670;&nbsp;</a></span>CoilStresses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoilStresses </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>bA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>bB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>nu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stresses in a finite thickness coil, circumferential and radial. </p>
<p >Computes radial and circumferential stresses in a finite thickness coil carrying a current. It computes circumferential, radial and circumferential stresses for an infinite solenoid in which bB = 0. This function assumes that the radial stresses on the boundaries are zero.</p>
<p >Type CoilStresses for a demo. p in the plots is the magnetic pressure.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md5"></a>
Form</h2>
<pre class="fragment">[sigmaTheta, sigmaR, sigmaThetaP] = CoilStresses( a, b, bA, bB, j, nu, r )
</pre> <hr  />
<hr  />
<pre class="fragment">Input
</pre> <hr  />
<pre class="fragment">a           (1,1) Inner radius (m)
b           (1,1) Outer radius (m)
bA          (1,1) Inner field (T)
bB          (1,1) Outer field (T)
j           (1,1) Current density (A/m^2)
nu          (1,1) Poisson's ratio for the material
r           (1,:) Radii between a and b (m)
</pre> <hr  />
<pre class="fragment">Output
</pre> <hr  />
<pre class="fragment">sigmaTheta  (1,:) Circumferential stress (N/m^2)
sigmaR      (1,:) Radial stress (N/m^2)
sigmaThetaP (1,:) Circumferential stress infinite solenoid (N/m^2)
</pre><hr  />
<p >Reference: Wilson, M. N., "Superconducting Magnets", Oxford Science Publications, 1983, pp. 41-45</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="ga6d958e5b23f1046ae7c7987c60cfba47" name="ga6d958e5b23f1046ae7c7987c60cfba47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d958e5b23f1046ae7c7987c60cfba47">&#9670;&nbsp;</a></span>CoilStressFiniteSolenoid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoilStressFiniteSolenoid </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Ba</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>J</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>doPlot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stresses in an finite solenoid from current density. </p>
<p >Calculates the hoop and radial stresses assuming a poisson ratio of 1/3. In the demo, the simple independent turn calculation of hoop stress for an infinite solenoid is also shown. Since in reality the turns actually press on each other, the radial stress shown develops and the hoop stress is modified.</p>
<p >This calculation assumes the radial boundaries of the coil are free, that is, sigmaR=0 at a and b.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md7"></a>
Form</h2>
<pre class="fragment">sigma = CoilStressFiniteSolenoid( a, b, Ba, Bb, J, doPlot )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md9"></a>
Inputs</h2>
<pre class="fragment">a     (1,1)    Inner radius
b     (1,1)    Outer radius, b&gt;a
Ba    (1,1)    Field at inner wall
Bb    (1,1)    Field at outer wall
J     (1,1)    Current density (A/m2)
doPlot (1)     Boolean, create plot
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md10"></a>
Outputs</h2>
<pre class="fragment">sigma [2,:]    [hoop;radial] stress
</pre> <hr  />
<p> Reference: Superconducting Magnets, Martin Wilson, Clarendon Press, 2001</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="ga39e72fed3cc5fbfa3e6b6ce137715a50" name="ga39e72fed3cc5fbfa3e6b6ce137715a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39e72fed3cc5fbfa3e6b6ce137715a50">&#9670;&nbsp;</a></span>CoilStressSolenoid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoilStressSolenoid </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>doPlot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stresses in an infinite solenoid. </p>
<p >Calculates the hoop and radial stresses assuming a poisson ratio of 1/3. In the demo, the simple independent turn calculation of hoop stress is also shown. Since in reality the turns actually press on each other, the radial stress shown develops and the hoop stress is modified.</p>
<p >In order to calculate total stress, multiply by the magnetic pressure,</p>
<pre class="fragment">P = B^2/(2*mu0)
</pre><p> For a demo type CoilStressSolenoid.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md11"></a>
Form</h2>
<p >sigma = CoilStressSolenoid( a, b, doPlot )</p>
<hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md13"></a>
Inputs :</h2>
<pre class="fragment">a     (1,1)    Inner radius
b     (1,1)    Outer radius, b&gt;a
doPlot (1)     Boolean, create plot
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md14"></a>
Outputs :</h2>
<pre class="fragment">sigma (2,1)    Normalized stress, [theta;r]
</pre><hr  />
<p> Reference: Martin Wilson, Superconducting Magnets, Clarendon Press, 2001</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="ga122e3f4efb1b3d7ec79cfd58f4cc7c53" name="ga122e3f4efb1b3d7ec79cfd58f4cc7c53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga122e3f4efb1b3d7ec79cfd58f4cc7c53">&#9670;&nbsp;</a></span>CoilTurns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CoilTurns </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>I0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Iwire</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>diameter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>density</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the number of turns and mass for a coil of round wire. </p>
<p >Assume the coil is packed into a square cross-section. A packing factor of 0.9069 is used for round wire. A pancake model is used to estimate the magnetic field using the effective radius of the coil.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md87"></a>
Form</h2>
<pre class="fragment">[mass,turns,width,height,B] = CoilTurns( Ri, I0, d )
[mass,turns,width,height,B] = CoilTurns( Ri, I0, Iwire, diameter, density )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md89"></a>
Inputs</h2>
<pre class="fragment">Ri       (1,1)   Coil inner radius (m)
I0       (1,1)   Total current (A)
Iwire    (1,1)   Wire operating current (A)
diameter (1,1)   Wire diameter (mm)
density  (1,1)   Density of wire material (kg/m3)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md90"></a>
Outputs</h2>
<pre class="fragment">mass     (1,1)   Coil mass
turns    (1,1)   Turns of wire
width    (1,1)   Width of coil (m)
height   (1,1)   Width of coil (m)
B        (1,1)   Approximate field (T)
</pre><hr  />
<p> See also PancakeMagnetTurns, Bpancake, SuperconductorDataStructure</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="gad6021a22834f129bd7b130cc418a4d88" name="gad6021a22834f129bd7b130cc418a4d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6021a22834f129bd7b130cc418a4d88">&#9670;&nbsp;</a></span>ConcentricCoils()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ConcentricCoils </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>bAve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>pTitle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Field for coaxial coils (poorly named) </p>
<p >Field in the center of a set of concentric coils. Uses fminsearch to select the currents to minimize the deviations of the central field from the desired average field.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md111"></a>
Form</h2>
<pre class="fragment">[b, i, z] = CoaxialCoils( d, bAve, a )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md113"></a>
Inputs</h2>
<pre class="fragment">d     (1,p)  distances between the coils
bAve  (1,1)  Target magnetic field
a     (1,p)  Radii of coils
pTitle (1,:) Optional plot title
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md114"></a>
Outputs</h2>
<pre class="fragment">b     (1,:)  Field at each output distance z
i     (1,p)  Current in each coils
z     (1,:)  Array from d(1) to d(end)
</pre><hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>.</p>

</div>
</div>
<a id="ga0faf6d9eef390ff581d672714dd15b38" name="ga0faf6d9eef390ff581d672714dd15b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0faf6d9eef390ff581d672714dd15b38">&#9670;&nbsp;</a></span>ConcentricCoilsFiniteWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ConcentricCoilsFiniteWidth </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>bAve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>pTitle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Field for concentric coils with a finite width. </p>
<p >Field in the center of a set of concentric coils. Uses fminsearch to select the currents to minimize the deviations of the central field from the desired average field.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md115"></a>
Form</h2>
<pre class="fragment">[b, i, z] = ConcentricCoils( d, bAve, a, w )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md117"></a>
Inputs</h2>
<pre class="fragment">d     (1,p)  distances between the coils
bAve  (1,1)  Target magnetic field
a     (1,p)  Radii of coils
w     (1,:)  z location of current element
pTitle (1,:) Optional plot title
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md118"></a>
Outputs</h2>
<pre class="fragment">b     (1,:)  Field at each output distance z
i     (1,p)  Current in each coils
z     (1,:)  Array from d(1) to d(end)
</pre> <hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>.</p>

</div>
</div>
<a id="ga54cc4ecdf36f758a0f73c7435ea4c090" name="ga54cc4ecdf36f758a0f73c7435ea4c090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54cc4ecdf36f758a0f73c7435ea4c090">&#9670;&nbsp;</a></span>ConstBFlux()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ConstBFlux </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enclosed flux assuming constant B. </p>
<p >Dimensions in meters. B in tesla. Phi in V*s or equivalently T*m^2</p>
<hr  />
<h2><a class="anchor" id="autotoc_md83"></a>
Form</h2>
<pre class="fragment">phi = ConstBFlux( r,B )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md85"></a>
Inputs</h2>
<pre class="fragment">r              (:,:) Radius at which to compute B
B              (1,1) Strength of the axial B field
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md86"></a>
Outputs</h2>
<pre class="fragment">phi            (:,:) Inclosed flux at that radius, assuming uniform
axial B
</pre><hr  />
 
</div>
</div>
<a id="ga98c2af769d4c2ee8828c574572b9ef3d" name="ga98c2af769d4c2ee8828c574572b9ef3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98c2af769d4c2ee8828c574572b9ef3d">&#9670;&nbsp;</a></span>CurrentForField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function CurrentForField </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current to produce a desired field at the center of a wire loop. </p>
<hr  />
<h2><a class="anchor" id="autotoc_md119"></a>
Form</h2>
<pre class="fragment">I = CurrentForField(a, B)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md121"></a>
Inputs</h2>
<pre class="fragment">a   (1,1)   Radius (m)
B   (1,1)   Field  (T)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md122"></a>
Outputs</h2>
<pre class="fragment">I   (1,1)   Current (A)
</pre> <hr  />
 
</div>
</div>
<a id="gab0685e311bf348d58b317dce015a0058" name="gab0685e311bf348d58b317dce015a0058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab0685e311bf348d58b317dce015a0058">&#9670;&nbsp;</a></span>EllipsoidalSolenoid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function EllipsoidalSolenoid </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the radii for an ellipsoidal solenoid. </p>
<p >The coils will be at the specified Z locations. Z may be all positive, for half of the system, or include both the negative and positive locations.</p>
<p >Has a built-in demo for a 4 m system.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md131"></a>
Form</h2>
<pre class="fragment">[r, a, b] = EllipsoidalSolenoid( rMin, rMax, z )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md133"></a>
Inputs</h2>
<pre class="fragment">rMin    (1,1)
rMax    (1,1)
z       (1,n)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md134"></a>
Outputs</h2>
<pre class="fragment">r   (1,n)     Radii of each coil
a   (1,1)     Radial axis of ellipsoid
b   (1,1)     Z-axis of ellipsoid
</pre><hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="ga55821bd43b38f3e03aa12c4447323a38" name="ga55821bd43b38f3e03aa12c4447323a38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55821bd43b38f3e03aa12c4447323a38">&#9670;&nbsp;</a></span>FieldCurrentLoop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function FieldCurrentLoop </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Field along the central axis of a single current loop. </p>
<hr  />
<p> Reference: <a href="http://hyperphysics.phy-astr.gsu.edu/hbase/magnetic/curloo.html">http://hyperphysics.phy-astr.gsu.edu/hbase/magnetic/curloo.html</a></p>
<hr  />
<h2><a class="anchor" id="autotoc_md123"></a>
Form</h2>
<pre class="fragment">b = FieldCurrentLoop( a, i, z )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md125"></a>
Inputs</h2>
<pre class="fragment">a    (1,1)  Radius (m)
i    (1,1)  Current (A)
z    (1,1)  Distance from center of loop, along loop axis (m)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md126"></a>
Outputs</h2>
<pre class="fragment">b    (1,1)  Field (T)
</pre> <hr  />
 
</div>
</div>
<a id="gab11a8b29ddeb914283e15e4649fef008" name="gab11a8b29ddeb914283e15e4649fef008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab11a8b29ddeb914283e15e4649fef008">&#9670;&nbsp;</a></span>FLinearCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function FLinearCurrent </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Imin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Linear current shape for PFRC magnets. </p>
<hr  />
<h2><a class="anchor" id="autotoc_md135"></a>
Form</h2>
<pre class="fragment">Is = FLinearCurrent( zs )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md137"></a>
Inputs</h2>
<pre class="fragment">z0      (1,n)    Magnet locations along z axis (scaled to 1)
Imin    (1,n)    Fraction, end current/peak current
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md138"></a>
Outputs</h2>
<pre class="fragment">Is      (1,n)    Magnet currents (scaled to 1)
</pre><hr  />
<p> See also: Solv0eSolenoid</p>
<hr  />
 
</div>
</div>
<a id="gaae57dc5a0d55453bee55c16cddfe3a87" name="gaae57dc5a0d55453bee55c16cddfe3a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae57dc5a0d55453bee55c16cddfe3a87">&#9670;&nbsp;</a></span>ForceBetweenCurrentLoops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ForceBetweenCurrentLoops </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Total force between concentric current loops. </p>
<p >The force between infinite wires is an approximation.</p>
<p >Type ForceBetweenCurrentLoops for a demo for an 8 T coils</p>
<hr  />
<h2><a class="anchor" id="autotoc_md127"></a>
Form</h2>
<pre class="fragment">[f, fIL] = ForceBetweenCurrentLoops( a, h, i, n )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md129"></a>
Inputs</h2>
<pre class="fragment">a   (1,1) Radius (m)
h   (1,1) Z distance (m)
i   (1,1) Current (A)
n   (1,1) Number of points
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md130"></a>
Outputs</h2>
<pre class="fragment">f   (3,1) Force vector (N)
fIL (1,1) Force between infinite wires (N)
</pre><hr  />
 
</div>
</div>
<a id="gadac24de9d275e3556a38eda4dbea76e4" name="gadac24de9d275e3556a38eda4dbea76e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadac24de9d275e3556a38eda4dbea76e4">&#9670;&nbsp;</a></span>FSteppedCurrent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function FSteppedCurrent </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Iend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stepped current shape for PFRC magnets. </p>
<p >Only the last magnet has a smaller current</p>
<hr  />
<h2><a class="anchor" id="autotoc_md139"></a>
Form</h2>
<pre class="fragment">Is = FSteppedCurrent( z0, Iend )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md141"></a>
Inputs</h2>
<pre class="fragment">z0      (1,n)    Magnet locations along z axis (scaled to 1)
Iend    (1,1)    Fraction, end current/peak current
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md142"></a>
Outputs</h2>
<pre class="fragment">Is      (1,n)    Magnet currents (scaled to 1)
</pre><hr  />
<p> See also: Solv0eSolenoid</p>
<hr  />
 
</div>
</div>
<a id="gabc1dd25c0718a71d3e8c4c99a3678dd2" name="gabc1dd25c0718a71d3e8c4c99a3678dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc1dd25c0718a71d3e8c4c99a3678dd2">&#9670;&nbsp;</a></span>MagnetArrayMass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function MagnetArrayMass </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>I0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Iop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>N0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the size and mass of pancake magnets from radius and current. </p>
<p >Assume the radii and currents are for one-half of the machine. Calculates the number of turns needed for each magnet from the specified operating current. The width is adjusted until the magnet is wider than it is tall, which produces the minimum pancake mass.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md91"></a>
Form</h2>
<pre class="fragment">[mass,mass_k] = MagnetArrayMass( a0, I0, Iop, N, d )
</pre> <hr  />
<pre class="fragment">Inputs:
</pre> <hr  />
<p >a0 (1,n) Magnet inner radius I0 (1,n) Magnet currents, A-T Iop (1,1) HTS operating current (A) N0 (1,1) (unused) d (.) Struct with HTS properties</p>
<pre class="fragment">Outputs:
</pre> <hr  />
<p >mass (1,1) Mass of the array mass_k (1,n) Mass of the magnets dw (1,n) Width of magnet (pancakes) dh (1,n) Height of magnet (turns) N (1,n) Number of double-pancakes</p>
<hr  />
<p> See also: PancakeMagnetTurns, PancakeMagnetMass</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="gaea180fb6fa291a467d5e4ebff2ad6986" name="gaea180fb6fa291a467d5e4ebff2ad6986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea180fb6fa291a467d5e4ebff2ad6986">&#9670;&nbsp;</a></span>MagnetDataStructure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function MagnetDataStructure </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Magnet data structure for current and mass model. </p>
<p >Work in progress.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md92"></a>
Form</h2>
<p >d = MagnetDataStructure</p>
<hr  />
<hr  />
<p >Outputs </p><hr  />
<p >d (.) Data structure output .r (1,:) Coil radii (m) .z (1,:) Coil axial positions (m) .w (1,1) Filament (wire) radius or width (m) .I (1,:) Total current (A-turns) .b (1,1) Central field (T) .Iop (1,1) Operating current (A) .temp (1,1) Operating temperature (K) .mass (1,1) Windings mass (kg) .dims (1,2) Dimensions of windings, [h w] (m) .turns (1,1) Turns at Iop</p>
<hr  />
<p> See also CoAxStruct</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="gafb30124b2fbf7fac318345823c3c671b" name="gafb30124b2fbf7fac318345823c3c671b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb30124b2fbf7fac318345823c3c671b">&#9670;&nbsp;</a></span>NbTiHysteresis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function NbTiHysteresis </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>BDot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Jc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Jt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the heating due to hysteresis in an AC NbTi coil. </p>
<p >Uses the model of Wilson to determine the volumetric heating in an NbTi coil. Valid only when the applied B is larger than the penetration field.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md151"></a>
Form</h2>
<pre class="fragment">Qdot = NbTiHysteresis(Bdot,Jc,d,Jt)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md153"></a>
Inputs</h2>
<pre class="fragment">BDot  (:,:)     Magnetic field change, Tesla per second (T/s)
Jc    (:,:)     Critical current density of coil (A/m^2) 
d     (:,:)     Diameter of NbTi filament, meters (m)
Jt    (:,:)     Transport current density (A/m^2)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md154"></a>
Outputs</h2>
<pre class="fragment">QDot  (:,:)     Volumetric heating power density, W/m^3
</pre><hr  />
<p >See also DesignMotor.m, <a class="el" href="_nb_ti_penetration_field_8m.html" title="Determine the penetration field of an AC NbTi coil.">NbTiPenetrationField.m</a></p>
<hr  />
<p >Reference: Wilson, Martin N. "NbTi Superconductors with Low Ac Loss: A
    Review." Cryogenics, Special Issue: Low-Tc Superconducting Materials, 48, no. 7 (July 1, 2008): 381-95. <a href="https://doi.org/10.1016/j.cryogenics.2008.04.008">https://doi.org/10.1016/j.cryogenics.2008.04.008</a>.</p>
<hr  />
 
</div>
</div>
<a id="gae0df8a50ca636988424a274441f7d249" name="gae0df8a50ca636988424a274441f7d249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0df8a50ca636988424a274441f7d249">&#9670;&nbsp;</a></span>NbTiModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function NbTiModel </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>T</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Jop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the critical current and temperature for NbTi wire. </p>
<p >All current densities J are relative to the critical value at 5 T, 4.2K.</p>
<p >Data set from Taylor [11], Nb-44Ti alloy</p>
<hr  />
<h2><a class="anchor" id="autotoc_md155"></a>
Form</h2>
<pre class="fragment">[Jc,Tc,Tsh] = NbTiModel( T, B, Jop )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md157"></a>
Inputs</h2>
<pre class="fragment">T       (:)     Operating temperature (K)
B       (:)     Magnetic field (T)
Jop     (1)     Operating current, fraction of Jc (4.2K, 5 T)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md158"></a>
Outputs</h2>
<pre class="fragment">Jc      (:,:)    Critical current density at (T,B)
Tc      (:)      Critical temperture at B
Tsh     (:)      Sharing temperature at Jop and B
</pre><hr  />
<p> References: L. Bottura, "A PRACTICAL FIT FOR THE CRITICAL SURFACE OF NBTI,"</p>
<p >LHC Project Report 358, 1 December 1999. M.A. Green, "Calculating the Jc, B, T surface for niobium 
    titanium using a reduced-state model," IEEE Trans. Mag., vol. 25 (2), p. 2119, 1989.</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="elRef" href="../Common/html/statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>.</p>

</div>
</div>
<a id="gab55719c281e33098a57178a706b9a442" name="gab55719c281e33098a57178a706b9a442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab55719c281e33098a57178a706b9a442">&#9670;&nbsp;</a></span>NbTiPenetrationField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function NbTiPenetrationField </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Jc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the penetration field of an AC NbTi coil. </p>
<p >Uses the model of Wilson to determine the field above which the NbTi is fully penetrated</p>
<hr  />
<h2><a class="anchor" id="autotoc_md159"></a>
Form</h2>
<pre class="fragment">Bp = NbTiPenetrationField(Jc,d)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md161"></a>
Inputs</h2>
<pre class="fragment">Jc    (:,:)     Critical current density of coil (A/m^2) 
d     (:,:)     Diameter of NbTi filament, meters (m)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md162"></a>
Outputs</h2>
<pre class="fragment">Bp    (:,:)     Penetration field, Tesla (T)
</pre><hr  />
<p >See also NbTiHystereses.m</p>
<hr  />
<p >Reference: Wilson, Martin N. "NbTi Superconductors with Low Ac Loss: A
    Review." Cryogenics, Special Issue: Low-Tc Superconducting Materials, 48, no. 7 (July 1, 2008): 381-95. <a href="https://doi.org/10.1016/j.cryogenics.2008.04.008">https://doi.org/10.1016/j.cryogenics.2008.04.008</a>.</p>
<hr  />
 
</div>
</div>
<a id="ga70060b6cae692f6c7c47f59ebbb8701d" name="ga70060b6cae692f6c7c47f59ebbb8701d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70060b6cae692f6c7c47f59ebbb8701d">&#9670;&nbsp;</a></span>PancakeMagnetMass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function PancakeMagnetMass </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>B0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Iop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size a pancake magnet to produce a desired B given the wire properties. </p>
<p >Assumes a pancake model with number of double pancakes N. This is just the mass of the conductor, additional structural mass is not included.</p>
<p >If d.thick is zero, assumes circular wire instead of flat tape.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md99"></a>
Form</h2>
<pre class="fragment">[mass,turns,h,w,N,I] = PancakeMagnetMass( B0, Ri, N, Iop, d )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md101"></a>
Inputs</h2>
<pre class="fragment">B0   (1,1)  Target field (T)
Ri   (1,1)  Inner radius (m)
N    (1,1)  Number of double-pancakes, [] to calculate
Iop  (1,1)  Operating curremt (A)
d     (.)   Wire data structure
.width     (mm)
.thick     (mm)
.rho       (kg/m3)
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md102"></a>
Outputs :</h2>
<pre class="fragment">mass    (1,1)   Mass of the conductor (kg)
turns   (1,1)   Turns, total (all pancakes)
height  (1,1)   Height of windings (m)
width   (1,1)   Width of widings (m)
N       (1,1)   Number of double-pancakes
I       (1,1)   Total current in windings, A-T
</pre><hr  />
<p> See also: SuperconductorDataStructure</p>
<hr  />
 
</div>
</div>
<a id="ga4d2598ef863836c92b37f6cfa8a236fd" name="ga4d2598ef863836c92b37f6cfa8a236fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d2598ef863836c92b37f6cfa8a236fd">&#9670;&nbsp;</a></span>PancakeMagnetTurns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function PancakeMagnetTurns </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>I0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Iop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the turns for a pancake magnet given the total current. </p>
<p >This is a double-pancake model, N is the number of double-pancakes.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md103"></a>
Form</h2>
<pre class="fragment">[mass,turns,w,h,B] = PancakeMagnetTurns( I0, Ri, N, Iop, d )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md105"></a>
Inputs</h2>
<pre class="fragment">I0   (1,1) total current (A)
Ri   (1,1) inner radius (m)
N    (1,1) number of double-pancakes
Iop  (1,1) wire operating current
d    (.)   Wire data structure
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md106"></a>
Outputs</h2>
<pre class="fragment">mass     (1,1)   Coil mass
turns    (1,1)   Turns of wire (per pancake)
width    (1,1)   Width of coil (m)
height   (1,1)   Height of coil (m)
B        (1,1)   Pancake field (T)
</pre><p> See also PancakeMagnetMass</p>
<hr  />
 
</div>
</div>
<a id="ga46586aba456860049cbe1d65c93b5a12" name="ga46586aba456860049cbe1d65c93b5a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46586aba456860049cbe1d65c93b5a12">&#9670;&nbsp;</a></span>REffPancake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function REffPancake </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>Ro</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Effective radius of a thin pancake coil. </p>
<p >Excludes the effect of the width of the coil. Either input may be a vector.</p>
<p >Reff = REffPancake( Ri, Ro )</p>
<hr  />
<h2><a class="anchor" id="autotoc_md107"></a>
Form</h2>
<pre class="fragment">Reff = REffPancake( Ri, Ro )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md109"></a>
Inputs</h2>
<pre class="fragment">Ri    (1,1)    Inner radius
Ro    (1,1)    Outer radius
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md110"></a>
Outputs</h2>
<pre class="fragment">Reff  (1,1)    Effective radius
</pre> <hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/quat_8m.html#aed6fe2c13bf4990a14430d36b2b4d0c3">vector()</a>.</p>

</div>
</div>
<a id="ga1eea732a2f05a7fbddcda2ba44291dcb" name="ga1eea732a2f05a7fbddcda2ba44291dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1eea732a2f05a7fbddcda2ba44291dcb">&#9670;&nbsp;</a></span>ScanMagnetArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function ScanMagnetArray </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>I0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>doPlot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute axial field scan of a symmetric magnet array. </p>
<p >This uses a single loop current model. If z0 are all positive it will automatically add the other half of the array.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md143"></a>
Form</h2>
<pre class="fragment">[B,xs,b0] = ScanMagnetArray(a0,I0,z)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md145"></a>
Inputs</h2>
<pre class="fragment">a0      (1,n)    Magnet radii
I0      (1,n)    Magnet currents
z0      (1,n)    Magnet locations along z axis
doPlot   (1)     Boolean, make plot
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md146"></a>
Outputs</h2>
<pre class="fragment">B       (1,:)    Magnetic field scan
xs      (1,:) 
B0      (1,n)
</pre> <hr  />
<p> See also FieldCurrentLoop, MagneticFieldCurrentLoop</p>
<hr  />
 
</div>
</div>
<a id="gad2633555d5c86b172341f5fa8361212c" name="gad2633555d5c86b172341f5fa8361212c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2633555d5c86b172341f5fa8361212c">&#9670;&nbsp;</a></span>SolenoidForces()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SolenoidForces </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Total force between coaxial current loops. </p>
<p >The force between infinite wires is an approximation.</p>
<p >Type SolenoidForces for a demo for eight 5T coils.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md15"></a>
Form</h2>
<pre class="fragment">[f, fR, fM] = SolenoidForces( a, h, i, n )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md17"></a>
Inputs</h2>
<pre class="fragment">a   (1,:) Radius (m)
h   (1,:) Z distance (m)
i   (1,1) Current (A)
n   (1,1) Number of points
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md18"></a>
Outputs</h2>
<pre class="fragment">f   (3,:) Force vector (N)
fR  (1,:) Radial self force (N)


See also: CoilSelfForce
</pre><hr  />
 
</div>
</div>
<a id="ga41f6e03c9fec6b2e039713299ac51152" name="ga41f6e03c9fec6b2e039713299ac51152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41f6e03c9fec6b2e039713299ac51152">&#9670;&nbsp;</a></span>SolenoidStructuralMass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SolenoidStructuralMass </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>bA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>bB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>nu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>sigma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rho</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structural mass for a discrete solenoid. </p>
<p >Computes the total structural mass of a solenoid. Inputs are for each coil. The axial masses are between the coils. The circumferential are for each coil. The stress limit should include safety factors.</p>
<p >Type SolenoidStructuralMass for a demo. Uses Titanium.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md93"></a>
Form</h2>
<pre class="fragment">[massA, massC, massT] = SolenoidStructuralMass( a, b, w, z, bA, bB,
j, nu, sigma, rho )
</pre> <hr  />
<hr  />
<pre class="fragment">Input
</pre> <hr  />
<pre class="fragment">a     (1,:) Inner radius (m)
b     (1,:) Outer radius (m)
w       (1,:) Axial width of coil (m)
z       (1,:) Axial position (m)
bA      (1,:) Inner field (T)
bB      (1,:) Outer field (T)
j     (1,:) Total current (A)
nu      (1,1) Poisson's ratio for the structural material
sigma   (1,1) Stress limit for the structural material (N/m^2)
rho   (1,1) Density of structural material (kg/m^3)
</pre> <hr  />
<pre class="fragment">Output
</pre> <hr  />
<pre class="fragment">massA   (1,:) Structural mass for axial stress (kg)
massC   (1,:) Structural mass for circumferential stress (kg)
massT (1,1) Total mass (kg)
</pre><p> See also: SolenoidForces, CoilStresses</p>
<hr  />
<p >Reference: Wilson, M. N., "Superconducting Magnets", Oxford Science Publications, 1983, pp. 41-45</p>
<hr  />
 
</div>
</div>
<a id="ga0c6cc549eca23faf318c2f7fd85e3464" name="ga0c6cc549eca23faf318c2f7fd85e3464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c6cc549eca23faf318c2f7fd85e3464">&#9670;&nbsp;</a></span>SolveSolenoid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SolveSolenoid </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>z0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>B0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>fScale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solve for the maximum current that produces the target peak field. </p>
<p >Applies a single-loop model to coils at the given locations and radii. The currents are scaled using the given function. The default is uniform currents. Tze current function should be of the form:</p>
<pre class="fragment">Is = FScale( zs )
</pre><p> where the zs and Is are both scaled to maximum values of 1. If z0 are all positive it will automatically add the other half of the array.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md147"></a>
Form</h2>
<pre class="fragment">[iC,iCs] = SolveSolenoid( a0, z0, B0, fScale )
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md149"></a>
Inputs</h2>
<pre class="fragment">a0      (1,n)    Magnet radii (m)
z0      (1,n)    Magnet locations along z axis (m)
B0      (1,1)    Target peak magnetic field (T)
fScale   (@)     Function handle for current shape
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md150"></a>
Outputs</h2>
<pre class="fragment">I0      (1,n)    Magnet currents (A)
</pre><hr  />
<p> See also: CurrentForField, MagneticFieldCurrentLoop</p>
<hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>.</p>

</div>
</div>
<a id="ga79f9e74f772b9def1c2a16b10bd02d1b" name="ga79f9e74f772b9def1c2a16b10bd02d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79f9e74f772b9def1c2a16b10bd02d1b">&#9670;&nbsp;</a></span>SuperconductorDataStructure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SuperconductorDataStructure </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Superconducting wire data structure, HTS or LTS. </p>
<p >The default is for HTS superconducting tape. For LTS wire, set "thick" to zero. The operating current is a function of applied field and operating temperature.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md163"></a>
Form</h2>
<pre class="fragment">d = SuperconductorDataStructure( type )
</pre> <hr  />
<hr  />
<pre class="fragment">Input:
</pre> <hr  />
<pre class="fragment">type   ''    String, 'HTS' is the default, or else 'LTS'
</pre> <hr  />
<pre class="fragment">Output:
</pre> <hr  />
<pre class="fragment">d    (.)    Data structure
.width     [mm]
.thick     [mm]
.rho       [kg/m3]
.linearRho [g/cm]
.Iop       [A]
</pre><hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="elRef" href="../Common/html/statespace_8m.html#a9ba11dee9f0f98ed17846dd7afc421a5">set()</a>.</p>

</div>
</div>
<a id="ga76f323082cc3dfa1fec0993b0fe52aa0" name="ga76f323082cc3dfa1fec0993b0fe52aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76f323082cc3dfa1fec0993b0fe52aa0">&#9670;&nbsp;</a></span>SuperPowerHTS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function SuperPowerHTS </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>T</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Properties of SuperPower HTS 12 mm tape. </p>
<p >Properties of HTS tape as measured by SSI in the lab circa 2017. Interpolates the entered field and temperature and provides warnings if the data is out of range.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md165"></a>
Form</h2>
<pre class="fragment">SuperPowerHTS             % demo
I = SuperPowerHTS( B, T )     % function
SuperPowerHTS( print )    % print model properties
</pre> <hr  />
<hr  />
<pre class="fragment">Input:
</pre> <hr  />
<pre class="fragment">B     Field (T)
T     Temperature (K)
</pre> <hr  />
<pre class="fragment">Output:
</pre> <hr  />
<pre class="fragment">I     Current (A)
</pre><hr  />
 
<p class="reference">References <a class="elRef" href="../Common/html/statespace_8m.html#a4899caf4a54937eeaea8618b53beb34c">and()</a>, and <a class="elRef" href="../Common/html/statespace_8m.html#aed9dbb8af76caf0e678e3a4161041fe9">isempty()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 25 2023 12:18:21 for Princeton Fusion Systems MATLAB Toolboxes by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
