<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Princeton Fusion Systems MATLAB Toolboxes: FusionEngine/Tokamak/FusionReactorDesign.m File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="PFSLogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Princeton Fusion Systems MATLAB Toolboxes
   </div>
   <div id="projectbrief">MATLAB toolboxes for fusion energy analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_fusion_reactor_design_8m.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">FusionReactorDesign.m File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Unpack parameters.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga130f9690fd7392ecc65e9a1eb879a7ed"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___fusion_engine.html#ga130f9690fd7392ecc65e9a1eb879a7ed">FusionReactorDesign</a> (in d, in mode, in pmin, in pmax, in n)</td></tr>
<tr class="memdesc:ga130f9690fd7392ecc65e9a1eb879a7ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">FUSION REACTOR DESIGN FUNCTION (tokamaks)  <a href="group___fusion_engine.html#ga130f9690fd7392ecc65e9a1eb879a7ed">More...</a><br /></td></tr>
<tr class="separator:ga130f9690fd7392ecc65e9a1eb879a7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c55259028bd97647c3720870a2ee10"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_fusion_reactor_design_8m.html#a11c55259028bd97647c3720870a2ee10">DefaultDataStructure</a> ()</td></tr>
<tr class="memdesc:a11c55259028bd97647c3720870a2ee10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free parameters with chosen values.  <a href="_fusion_reactor_design_8m.html#a11c55259028bd97647c3720870a2ee10">More...</a><br /></td></tr>
<tr class="separator:a11c55259028bd97647c3720870a2ee10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f76a17c0c4e15b9ea592f04fbf3268"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_fusion_reactor_design_8m.html#a52f76a17c0c4e15b9ea592f04fbf3268">rhofunction</a> (in rho)</td></tr>
<tr class="separator:a52f76a17c0c4e15b9ea592f04fbf3268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d278a748cb15caa622ef1c88ad1518"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_fusion_reactor_design_8m.html#a60d278a748cb15caa622ef1c88ad1518">fNCfunction</a> (in rho)</td></tr>
<tr class="separator:a60d278a748cb15caa622ef1c88ad1518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa736c339c1385ddf299e0f27b1302a5"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_fusion_reactor_design_8m.html#aaa736c339c1385ddf299e0f27b1302a5">VariableConversionSolverFunc</a> (in d, in mode, in vec)</td></tr>
<tr class="separator:aaa736c339c1385ddf299e0f27b1302a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0086ed3086174c84b1eb119cb83234e3"><td class="memItemLeft" align="right" valign="top">function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_fusion_reactor_design_8m.html#a0086ed3086174c84b1eb119cb83234e3">paramfun</a> (in a, in d2)</td></tr>
<tr class="memdesc:a0086ed3086174c84b1eb119cb83234e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">VARIABLE CONVERSION SOLVER FUNCTION The function solves for the variable a (the tokamak minor radius) given an input variable choice of 'a', 'H', 'B_max', 'P_E', or 'P_W', along with a specified linspace vector for that variable, by numerically solving the constraint f_B = f_NC.  <a href="_fusion_reactor_design_8m.html#a0086ed3086174c84b1eb119cb83234e3">More...</a><br /></td></tr>
<tr class="separator:a0086ed3086174c84b1eb119cb83234e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Unpack parameters. </p>
<p >Specify physical quantities used in f_B = f_NC relation Write out equation for n_par Define function (F = f_B - f_NC, which will be solved for F = 0) </p><hr  />
 <dl class="section rcs"><dt>Date</dt><dd>2020-05-29 </dd></dl>
<dl class="section rcs"><dt>Id</dt><dd>0c42080762886b3751bf661818ff650348f32380 </dd></dl>
<p >FUSION REACTOR DESIGN FUNCTION (tokamaks) </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a11c55259028bd97647c3720870a2ee10" name="a11c55259028bd97647c3720870a2ee10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c55259028bd97647c3720870a2ee10">&#9670;&nbsp;</a></span>DefaultDataStructure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function DefaultDataStructure </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free parameters with chosen values. </p>
<hr  />
<p >Copyright (c) 2022 Princeton Satellite Systems, Inc. All rights reserved. Since version 2022.1</p>
<hr  />
<hr  />
<p> Default Input Parameters</p>
<hr  />
<hr  />
<p> Basic engineering and nuclear physics constraints</p>
<hr  />
<hr  />
<p> Other Known/Given Parameters</p>
<hr  />
<p> Compute necessary integrals </p><hr  />
<p> Unpack Function Input Parameters</p>
<hr  />
 <hr  />
<p> SOLVING FOR PARAMETERS</p>
<hr  />
<p> [MW] Major radius of plasma [m] Required average pressure [atm] [/] Magnetic field at R = R0 [T] Energy confinement time [s] Average plasma density [10^20 m-3] Defining function for plasma current [MA] Normalized plasma pressure, altered for any Bmax [%] Defining function for thickness of TF magnets [m] Defining function for the achievable bootstrap fraction fNC Defining function for plasma density profile [m^-3] Defining function for the required boostrap fraction Normalized inverse current Defining function for volume of the blanket region and TF coils [m^3] Parallel heat flux that must be dissipated </p><hr  />
<p> Limit Values The Greenwald limit n&lt;nG The Troyan beta limit beta&lt;betaT
The kink safety factor limit qstar&gt;qK </p><hr  />
<p> PLOT OUTPUT</p>
<hr  />
<p> y-axis arrays Plot operational constraint curves CHECK ADDFILL2PLOT Save curves output Plot the cost parameter, V_I/P_E </p><hr  />
<p> TABLE OUTPUT</p>
<hr  />
<p> Table output </p><hr  />
<p> CALLING INPUTS</p>
<hr  />
<p >Free parameters with chosen values. </p>

</div>
</div>
<a id="a60d278a748cb15caa622ef1c88ad1518" name="a60d278a748cb15caa622ef1c88ad1518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60d278a748cb15caa622ef1c88ad1518">&#9670;&nbsp;</a></span>fNCfunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function fNCfunction </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rho</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0086ed3086174c84b1eb119cb83234e3" name="a0086ed3086174c84b1eb119cb83234e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0086ed3086174c84b1eb119cb83234e3">&#9670;&nbsp;</a></span>paramfun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function paramfun </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VARIABLE CONVERSION SOLVER FUNCTION The function solves for the variable a (the tokamak minor radius) given an input variable choice of 'a', 'H', 'B_max', 'P_E', or 'P_W', along with a specified linspace vector for that variable, by numerically solving the constraint f_B = f_NC. </p>
<p >Note: in the case of input 'a', the function returns the input vector</p>
<hr  />
<h2><a class="anchor" id="autotoc_md536"></a>
Form</h2>
<pre class="fragment">a = VariableConversionSolverFunc( d , mode , vec)
</pre> <hr  />
<hr  />
<h2><a class="anchor" id="autotoc_md538"></a>
Inputs</h2>
<pre class="fragment">d (.) Input data structure
.B_max (1,1) Maximum magnetic field at the coil
.H     (1,1) H-mode enhancement factor
.P_E   (1,1) Electric power output [MW]
.P_W   (1,1) Max neutron wall loading [MW/m2]
.a     (1,1) Minor radius of the plasma
mode ''  'a', 'H', 'B_max', 'P_E', 'P_W'
vec (1,n) Input vector corresponding to mode selection
</pre> <hr  />
<h2><a class="anchor" id="autotoc_md539"></a>
Outputs</h2>
<pre class="fragment">a (1,n) Output vector of a
</pre> <hr  />
<p> Choose closest a value for solver Define options to remove text from fsolve results Integrals Created constants (to help see the main functional dependencies) Create new default data structure for nested function figure() plot(vec,a) title(['a vs.',' ',mode]) </p>

</div>
</div>
<a id="a52f76a17c0c4e15b9ea592f04fbf3268" name="a52f76a17c0c4e15b9ea592f04fbf3268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f76a17c0c4e15b9ea592f04fbf3268">&#9670;&nbsp;</a></span>rhofunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function rhofunction </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>rho</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr  />
<p> FUNCTIONS TO INTEGRATE</p>
<hr  />
 
</div>
</div>
<a id="aaa736c339c1385ddf299e0f27b1302a5" name="aaa736c339c1385ddf299e0f27b1302a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa736c339c1385ddf299e0f27b1302a5">&#9670;&nbsp;</a></span>VariableConversionSolverFunc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function VariableConversionSolverFunc </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr  />
<p> VARIABLE CONVERSION SOLVER FUNCTION</p>
<hr  />
 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b47f1e9a6f1d2b2b340407adfbdd03e2.html">FusionEngine</a></li><li class="navelem"><a class="el" href="dir_f93219def30791a06fcaa01cc423b5c8.html">Tokamak</a></li><li class="navelem"><a class="el" href="_fusion_reactor_design_8m.html">FusionReactorDesign.m</a></li>
    <li class="footer">Generated on Thu May 25 2023 16:21:18 for Princeton Fusion Systems MATLAB Toolboxes by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
